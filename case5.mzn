I = 24;
J = 50;
C = 2806;
CV = 12;
CC = 12;
O_i = [38, 70, 70, 42, 57, 26, 69, 34, 30, 61, 42, 27, 34, 60, 45, 61, 56, 36, 34, 44, 41, 44, 31, 48];
V_i = [0, 0, 0, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 0, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1];
D_ij = 
[|252, 331, 288, 259, 333, 302, 295, 266, 276, 323, 328, 230, 272, 292, 225, 230, 227, 283, 254, 230, 325, 319, 264, 255, 334, 298, 250, 327, 217, 255, 341, 246, 309, 318, 229, 273, 238, 313, 256, 267, 285, 320, 280, 300, 344, 320, 298, 265, 323, 319
|294, 196, 323, 315, 296, 310, 281, 266, 219, 210, 294, 243, 262, 273, 246, 286, 260, 273, 275, 293, 203, 281, 301, 277, 219, 311, 245, 278, 265, 243, 301, 322, 202, 200, 265, 320, 328, 276, 255, 234, 318, 247, 266, 321, 302, 273, 246, 302, 305, 205
|333, 302, 296, 324, 253, 281, 293, 326, 337, 299, 258, 373, 320, 297, 378, 357, 369, 306, 334, 355, 302, 269, 320, 333, 284, 286, 350, 262, 376, 346, 244, 338, 317, 311, 364, 311, 345, 276, 339, 338, 298, 281, 311, 283, 241, 271, 301, 319, 261, 306
|155, 73, 147, 161, 94, 126, 113, 132, 120, 75, 95, 165, 124, 111, 170, 170, 167, 119, 145, 172, 76, 93, 149, 145, 61, 131, 143, 84, 176, 139, 92, 175, 92, 84, 165, 155, 185, 94, 138, 127, 145, 76, 118, 136, 92, 87, 96, 148, 108, 80
|234, 129, 231, 243, 178, 210, 194, 208, 183, 138, 180, 230, 201, 192, 235, 245, 237, 198, 221, 249, 135, 176, 230, 222, 130, 214, 212, 168, 246, 208, 176, 257, 151, 142, 237, 238, 266, 177, 211, 195, 228, 154, 196, 220, 175, 170, 172, 230, 192, 140
|138, 93, 119, 139, 63, 98, 94, 121, 125, 88, 66, 164, 115, 95, 169, 158, 162, 104, 132, 158, 92, 70, 129, 132, 73, 103, 141, 61, 171, 137, 59, 154, 106, 100, 159, 130, 163, 74, 132, 127, 118, 70, 106, 107, 57, 67, 91, 128, 77, 95
|328, 211, 340, 343, 295, 321, 298, 298, 258, 226, 296, 298, 292, 292, 302, 330, 311, 296, 311, 335, 219, 287, 329, 312, 225, 325, 289, 281, 319, 285, 297, 355, 228, 221, 314, 343, 363, 285, 294, 273, 336, 257, 292, 333, 296, 279, 266, 329, 308, 223
|322, 207, 340, 339, 299, 322, 297, 292, 249, 223, 299, 286, 287, 290, 289, 321, 300, 293, 304, 327, 215, 289, 325, 306, 225, 325, 280, 283, 307, 276, 301, 349, 221, 216, 303, 340, 357, 286, 286, 264, 335, 256, 287, 333, 301, 280, 263, 325, 311, 219
|117, 219, 87, 95, 133, 104, 130, 144, 191, 204, 131, 180, 147, 137, 180, 134, 163, 136, 136, 127, 212, 138, 108, 134, 201, 102, 169, 145, 162, 170, 134, 93, 209, 212, 156, 89, 90, 141, 156, 176, 92, 170, 143, 93, 135, 147, 165, 108, 119, 209
|307, 423, 312, 297, 368, 332, 345, 336, 373, 409, 365, 334, 342, 348, 331, 301, 320, 342, 322, 296, 415, 365, 310, 321, 414, 328, 342, 374, 313, 346, 372, 283, 404, 411, 317, 303, 274, 363, 338, 358, 314, 386, 345, 324, 374, 371, 370, 310, 353, 410
|271, 257, 316, 292, 327, 316, 291, 258, 228, 260, 322, 208, 260, 283, 205, 248, 221, 277, 257, 254, 257, 307, 285, 259, 275, 314, 228, 311, 219, 230, 336, 288, 242, 248, 228, 304, 288, 300, 242, 232, 311, 284, 269, 322, 338, 302, 268, 286, 326, 253
|229, 162, 207, 229, 152, 187, 185, 211, 207, 163, 156, 250, 204, 186, 255, 248, 250, 194, 223, 249, 164, 161, 220, 222, 149, 192, 228, 152, 259, 223, 146, 244, 180, 172, 247, 219, 253, 165, 220, 212, 207, 157, 196, 194, 144, 158, 178, 219, 165, 168
|266, 155, 265, 276, 213, 245, 227, 238, 209, 166, 215, 256, 231, 224, 261, 275, 264, 230, 252, 279, 162, 210, 263, 252, 159, 249, 240, 202, 273, 235, 212, 289, 176, 168, 264, 271, 298, 211, 240, 222, 262, 186, 228, 255, 211, 203, 202, 262, 227, 167
|292, 289, 249, 279, 217, 239, 257, 291, 313, 282, 222, 342, 287, 263, 346, 317, 334, 270, 297, 314, 287, 236, 278, 295, 267, 243, 319, 231, 340, 316, 208, 291, 299, 294, 328, 264, 297, 243, 306, 310, 253, 256, 277, 238, 206, 240, 273, 276, 222, 289
|74, 170, 37, 52, 86, 55, 81, 97, 143, 155, 84, 138, 99, 88, 140, 95, 123, 87, 91, 89, 162, 89, 62, 89, 152, 52, 124, 97, 124, 125, 88, 55, 160, 163, 116, 42, 57, 91, 111, 130, 43, 121, 94, 44, 90, 98, 115, 62, 71, 159
|238, 188, 210, 234, 157, 191, 194, 224, 228, 186, 162, 268, 218, 197, 273, 259, 266, 206, 235, 259, 189, 170, 227, 234, 171, 196, 245, 162, 274, 241, 150, 249, 204, 197, 262, 223, 258, 175, 236, 231, 210, 174, 209, 196, 147, 169, 195, 226, 169, 192
|244, 361, 236, 228, 290, 257, 276, 274, 317, 346, 288, 286, 280, 280, 284, 245, 270, 276, 262, 239, 352, 291, 243, 260, 347, 253, 287, 300, 264, 290, 293, 217, 344, 350, 265, 231, 209, 291, 280, 302, 240, 317, 280, 247, 295, 298, 305, 243, 276, 348
|230, 197, 273, 252, 275, 269, 242, 212, 175, 202, 271, 165, 213, 234, 164, 210, 181, 229, 214, 216, 198, 256, 242, 216, 217, 268, 182, 258, 181, 183, 284, 251, 184, 190, 188, 263, 253, 249, 196, 183, 267, 230, 221, 277, 286, 250, 215, 243, 277, 195
|389, 374, 348, 377, 312, 336, 353, 387, 404, 370, 317, 436, 382, 358, 441, 414, 430, 366, 393, 411, 374, 330, 375, 392, 355, 340, 413, 325, 436, 410, 303, 389, 388, 382, 424, 363, 396, 337, 401, 403, 351, 347, 372, 336, 301, 333, 366, 374, 318, 377
|290, 249, 256, 283, 208, 240, 248, 279, 287, 247, 213, 325, 273, 251, 330, 313, 322, 260, 289, 311, 250, 223, 277, 288, 232, 244, 302, 216, 330, 298, 200, 297, 266, 259, 318, 270, 306, 230, 292, 289, 258, 232, 264, 243, 197, 224, 252, 276, 218, 254
|217, 165, 257, 239, 252, 251, 222, 195, 153, 172, 248, 154, 194, 214, 154, 200, 171, 210, 199, 207, 167, 233, 228, 202, 187, 250, 166, 234, 173, 166, 259, 241, 156, 160, 178, 249, 244, 226, 180, 163, 251, 203, 202, 259, 261, 226, 192, 229, 255, 165
|150, 93, 187, 172, 177, 178, 149, 124, 80, 99, 174, 93, 123, 141, 95, 137, 110, 138, 131, 144, 94, 159, 159, 133, 113, 178, 98, 159, 114, 97, 185, 176, 82, 86, 115, 179, 181, 152, 111, 92, 181, 129, 130, 187, 187, 151, 117, 160, 181, 92
|113, 157, 68, 98, 58, 62, 87, 119, 155, 144, 60, 170, 117, 95, 173, 138, 159, 100, 122, 134, 151, 75, 98, 120, 135, 64, 149, 76, 164, 147, 52, 109, 156, 156, 153, 83, 116, 81, 135, 146, 72, 108, 108, 58, 51, 83, 116, 97, 52, 150
|117, 193, 159, 129, 197, 169, 157, 127, 138, 184, 192, 91, 133, 154, 86, 92, 87, 145, 116, 94, 186, 182, 130, 117, 195, 165, 110, 189, 78, 115, 206, 119, 171, 179, 89, 144, 114, 175, 116, 128, 155, 180, 141, 170, 208, 182, 159, 132, 189, 181
|];
E_ij = 
[|416, 534, 470, 427, 537, 491, 480, 437, 453, 522, 531, 383, 447, 476, 375, 383, 378, 463, 420, 383, 525, 517, 434, 421, 540, 485, 414, 529, 364, 421, 550, 407, 501, 515, 382, 447, 396, 508, 422, 439, 466, 518, 459, 489, 554, 518, 486, 436, 523, 517
|512, 365, 555, 543, 515, 535, 492, 469, 398, 386, 512, 435, 464, 480, 439, 499, 460, 480, 483, 509, 375, 492, 522, 486, 398, 537, 438, 488, 468, 434, 522, 553, 373, 370, 468, 550, 562, 485, 453, 421, 547, 441, 470, 551, 524, 479, 439, 523, 528, 377
|570, 523, 514, 557, 449, 492, 509, 559, 576, 519, 457, 630, 550, 516, 637, 606, 623, 529, 571, 603, 524, 474, 550, 570, 496, 499, 595, 464, 635, 590, 436, 577, 546, 536, 616, 536, 588, 484, 579, 577, 517, 492, 537, 495, 432, 476, 522, 548, 462, 529
|275, 152, 263, 284, 183, 232, 211, 240, 222, 154, 185, 289, 229, 209, 297, 297, 293, 220, 259, 300, 156, 182, 266, 259, 134, 238, 257, 168, 307, 251, 181, 305, 181, 168, 290, 275, 320, 184, 250, 233, 259, 156, 220, 247, 180, 172, 187, 265, 204, 162
|409, 250, 404, 422, 324, 373, 349, 369, 332, 265, 327, 402, 358, 345, 410, 425, 413, 354, 389, 430, 260, 322, 403, 390, 252, 379, 376, 309, 426, 369, 322, 442, 283, 270, 412, 414, 457, 323, 373, 349, 399, 289, 352, 388, 320, 312, 315, 402, 345, 268
|233, 166, 205, 234, 121, 174, 167, 208, 214, 158, 126, 272, 198, 169, 279, 263, 270, 182, 225, 263, 164, 131, 220, 224, 136, 181, 238, 118, 282, 231, 114, 257, 185, 176, 264, 221, 271, 138, 224, 217, 203, 131, 186, 186, 112, 127, 163, 218, 142, 168
|561, 386, 580, 584, 512, 551, 516, 516, 456, 408, 513, 516, 507, 508, 523, 564, 536, 514, 535, 572, 398, 500, 563, 537, 407, 556, 503, 490, 548, 497, 514, 601, 411, 401, 540, 583, 614, 497, 510, 479, 573, 454, 507, 568, 514, 488, 469, 563, 532, 404
|518, 345, 544, 543, 483, 517, 479, 472, 407, 368, 482, 463, 464, 470, 468, 516, 484, 474, 490, 525, 357, 467, 522, 493, 372, 521, 454, 459, 495, 448, 486, 558, 366, 358, 489, 545, 570, 463, 463, 431, 536, 419, 465, 534, 486, 454, 429, 522, 501, 363
|206, 359, 161, 173, 229, 187, 225, 246, 316, 337, 227, 300, 250, 236, 300, 231, 275, 234, 234, 221, 348, 238, 193, 231, 332, 183, 283, 248, 274, 285, 231, 169, 343, 349, 264, 164, 166, 241, 265, 295, 168, 285, 244, 170, 232, 251, 277, 192, 208, 343
|522, 696, 529, 506, 613, 560, 579, 565, 621, 675, 608, 563, 575, 584, 557, 513, 542, 575, 545, 506, 683, 608, 526, 543, 682, 553, 574, 622, 530, 580, 619, 486, 667, 678, 537, 515, 472, 606, 568, 598, 532, 640, 579, 547, 622, 617, 617, 527, 591, 676
|448, 427, 517, 480, 532, 516, 478, 429, 384, 432, 526, 354, 432, 467, 350, 414, 374, 458, 428, 423, 427, 503, 469, 431, 455, 513, 384, 509, 370, 387, 546, 475, 405, 415, 385, 499, 475, 493, 405, 391, 509, 468, 446, 526, 549, 495, 444, 471, 532, 422
|371, 270, 338, 371, 255, 308, 304, 344, 338, 272, 261, 402, 333, 306, 410, 399, 403, 318, 361, 400, 273, 268, 357, 361, 250, 315, 369, 255, 416, 362, 246, 393, 298, 286, 398, 356, 407, 275, 358, 346, 337, 263, 322, 319, 243, 264, 295, 355, 275, 280
|433, 266, 432, 448, 354, 401, 375, 391, 348, 284, 356, 418, 381, 370, 425, 447, 430, 379, 412, 452, 277, 350, 428, 413, 273, 407, 394, 337, 444, 387, 352, 468, 299, 286, 431, 441, 482, 350, 394, 367, 427, 314, 376, 417, 351, 339, 338, 427, 375, 285
|498, 493, 434, 478, 386, 419, 445, 497, 529, 483, 393, 573, 490, 454, 579, 536, 561, 466, 506, 531, 490, 414, 477, 503, 461, 424, 538, 406, 571, 534, 372, 496, 509, 502, 552, 457, 506, 425, 519, 525, 440, 444, 476, 417, 369, 420, 470, 475, 393, 494
|156, 300, 101, 123, 174, 128, 166, 191, 260, 277, 171, 253, 194, 177, 255, 188, 229, 176, 182, 179, 288, 179, 139, 179, 273, 123, 232, 191, 232, 232, 177, 128, 285, 290, 219, 108, 131, 182, 212, 240, 109, 226, 187, 111, 180, 192, 218, 138, 152, 284
|418, 343, 376, 413, 297, 348, 353, 397, 403, 341, 304, 463, 388, 357, 470, 450, 460, 370, 413, 450, 344, 316, 402, 412, 318, 355, 428, 304, 473, 422, 286, 435, 368, 357, 454, 396, 448, 324, 415, 407, 377, 322, 375, 356, 282, 315, 353, 400, 315, 350
|422, 597, 411, 399, 492, 442, 470, 467, 532, 575, 488, 485, 476, 477, 482, 424, 461, 470, 449, 415, 585, 493, 420, 446, 577, 436, 487, 506, 452, 492, 496, 382, 573, 582, 454, 402, 369, 493, 476, 509, 416, 532, 476, 427, 498, 504, 514, 420, 470, 578
|381, 332, 446, 414, 449, 440, 399, 354, 299, 339, 443, 284, 355, 387, 282, 351, 308, 380, 357, 361, 333, 421, 400, 360, 362, 439, 309, 424, 308, 310, 462, 413, 313, 321, 318, 431, 416, 410, 330, 310, 437, 381, 368, 452, 465, 411, 359, 401, 451, 329
|618, 596, 556, 600, 503, 539, 563, 614, 641, 589, 510, 689, 607, 571, 695, 655, 679, 583, 624, 651, 595, 530, 597, 622, 567, 545, 654, 521, 689, 649, 489, 618, 616, 607, 670, 578, 628, 540, 636, 639, 561, 555, 593, 538, 485, 534, 584, 595, 512, 599
|479, 418, 428, 469, 357, 404, 416, 463, 475, 415, 364, 532, 454, 421, 539, 513, 527, 434, 477, 511, 420, 379, 460, 476, 393, 411, 497, 368, 539, 491, 344, 490, 443, 432, 521, 450, 503, 389, 482, 478, 431, 392, 441, 409, 340, 380, 423, 459, 372, 425
|367, 289, 427, 400, 419, 417, 374, 333, 271, 300, 413, 273, 333, 362, 273, 342, 298, 356, 340, 352, 292, 391, 384, 344, 321, 417, 291, 392, 301, 291, 430, 403, 275, 281, 308, 415, 408, 380, 311, 286, 418, 346, 344, 430, 433, 380, 329, 385, 424, 289
|269, 184, 324, 302, 310, 311, 268, 230, 164, 192, 305, 183, 229, 255, 186, 250, 209, 251, 241, 260, 185, 282, 283, 244, 214, 311, 192, 283, 216, 190, 322, 308, 167, 174, 217, 313, 315, 272, 210, 182, 315, 238, 239, 325, 324, 271, 220, 284, 316, 182
|200, 267, 134, 178, 118, 124, 162, 210, 263, 248, 122, 286, 207, 173, 291, 239, 270, 181, 214, 233, 258, 144, 179, 211, 234, 128, 255, 145, 277, 252, 109, 195, 266, 265, 260, 156, 205, 153, 234, 250, 140, 193, 193, 118, 108, 156, 205, 177, 110, 257
|223, 337, 286, 242, 343, 302, 284, 238, 255, 324, 336, 185, 248, 279, 177, 187, 178, 266, 223, 190, 327, 321, 244, 224, 340, 296, 214, 332, 165, 221, 357, 226, 304, 317, 182, 264, 219, 311, 223, 240, 281, 318, 260, 303, 360, 321, 286, 246, 331, 320
|];

% Define sets I and J
int: I;
int: J;

int: C; % Cost of installing a warehouse in all zones
int: CV; % Capacity in green zone
int: CC; % Capacity in blue zone

array[1..I] of int: O_i; % Emissions per operation for each warehouse i
array[1..I, 1..J] of int: D_ij; % Distance between warehouse i and store j
array[1..I, 1..J] of int: E_ij; % Transportation emissions
array[1..I] of int: V_i; % 1 if warehouse i is in the green zone, 0 if in the blue zone

% Define decision variables
array[1..I, 1..J] of var 0..1: X; % 1 if warehouse i supplies store j, 0 otherwise
array[1..I] of var 0..1: Y;

% Define constraints

% Add the constraint to ensure Y_i is 1 if the warehouse I supplies at least one store
constraint forall(i in 1..I)(
  sum(j in 1..J)(X[i,j]) > 0 -> Y[i] == 1
);

% Emissions constraint
constraint sum(i in 1..I, j in 1..J)(E_ij[i, j] * X[i, j]) + sum(i in 1..I)(O_i[i] * Y[i]) <= 500 * J;

% Assignment constraint
constraint forall(j in 1..J)(sum(i in 1..I)(X[i, j]) == 1);

% Green zone capacity constraint
constraint forall(i in 1..I)(sum(j in 1..J)(X[i, j] * V_i[i]) <= CV);

% Blue zone capacity constraint
constraint forall(i in 1..I)(sum(j in 1..J)(X[i, j] * (1 - V_i[i])) <= CC);

% Solve the optimization problem using a solver
% Define the objective function
solve minimize sum(i in 1..I, j in 1..J)(1.25 * D_ij[i, j] * X[i, j]) + sum(i in 1..I)(C * Y[i]);

output ["Solution:", ""];
output ["X = \n", show2d(X), ";"];
output ["\n"];
output ["Y = ", show(Y), ";"];
output ["\n"];
output ["FO = ", show(sum(i in 1..I, j in 1..J)(1.25 * D_ij[i, j] * X[i, j]) + sum(i in 1..I)(C * Y[i])), "\n"];