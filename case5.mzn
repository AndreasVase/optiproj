I = 26;
J = 42;
C = 1486;
CV = 7;
CC = 19;
O_i = [24, 42, 60, 67, 36, 43, 51, 35, 59, 50, 34, 36, 56, 28, 54, 50, 64, 21, 41, 38, 52, 33, 41, 57, 39, 38];
V_i = [0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0];
D_ij = 
[|351, 311, 346, 390, 309, 392, 299, 367, 364, 330, 301, 326, 354, 306, 340, 314, 350, 319, 358, 348, 400, 346, 342, 376, 307, 312, 357, 381, 371, 349, 402, 273, 333, 361, 330, 338, 344, 275, 317, 299, 254, 386
|326, 374, 331, 313, 369, 302, 316, 234, 254, 257, 290, 274, 338, 339, 288, 314, 254, 295, 334, 311, 273, 320, 273, 264, 325, 341, 248, 289, 281, 258, 297, 307, 301, 331, 369, 296, 310, 331, 291, 340, 315, 257
|99, 153, 105, 85, 149, 74, 110, 27, 33, 63, 96, 71, 110, 124, 69, 101, 45, 86, 106, 86, 47, 94, 59, 36, 112, 124, 37, 60, 53, 47, 71, 123, 83, 103, 144, 76, 86, 134, 85, 128, 141, 28
|242, 204, 237, 280, 202, 282, 190, 261, 257, 224, 193, 218, 246, 197, 231, 205, 243, 210, 249, 239, 292, 237, 234, 267, 197, 203, 250, 271, 262, 241, 293, 165, 224, 252, 223, 229, 235, 166, 208, 190, 147, 278
|306, 249, 300, 336, 253, 345, 302, 388, 372, 361, 328, 345, 297, 281, 335, 306, 367, 324, 301, 317, 373, 309, 349, 368, 294, 280, 374, 350, 352, 363, 355, 313, 321, 306, 260, 327, 317, 287, 328, 279, 309, 378
|203, 199, 201, 231, 195, 227, 147, 173, 178, 142, 129, 147, 213, 170, 170, 160, 163, 153, 214, 191, 223, 195, 163, 194, 161, 177, 167, 211, 198, 163, 235, 112, 171, 215, 211, 173, 188, 135, 148, 165, 97, 202
|250, 294, 255, 213, 295, 213, 305, 267, 258, 293, 311, 290, 247, 296, 269, 290, 273, 289, 244, 255, 213, 256, 273, 241, 295, 289, 269, 227, 239, 272, 203, 336, 272, 240, 275, 268, 259, 328, 292, 302, 355, 234
|137, 195, 143, 105, 192, 95, 166, 91, 93, 127, 157, 132, 144, 174, 123, 154, 107, 143, 139, 129, 69, 135, 117, 84, 165, 171, 100, 93, 95, 108, 86, 185, 134, 135, 182, 127, 131, 191, 143, 179, 203, 73
|169, 195, 170, 181, 190, 173, 131, 98, 112, 87, 103, 102, 181, 158, 126, 136, 101, 119, 180, 153, 157, 160, 112, 130, 144, 163, 100, 155, 142, 103, 176, 109, 135, 179, 198, 133, 150, 137, 114, 157, 111, 133
|66, 98, 68, 48, 99, 58, 123, 137, 118, 141, 140, 129, 57, 106, 103, 109, 127, 117, 56, 78, 86, 74, 116, 102, 111, 99, 129, 75, 87, 125, 61, 158, 98, 54, 79, 98, 82, 142, 122, 113, 176, 105
|148, 201, 153, 132, 197, 121, 152, 63, 79, 97, 133, 110, 159, 170, 115, 146, 85, 129, 156, 134, 92, 143, 102, 85, 157, 170, 77, 109, 102, 88, 117, 158, 129, 152, 193, 123, 135, 174, 126, 173, 173, 77
|155, 108, 150, 179, 114, 189, 172, 245, 226, 226, 200, 209, 144, 145, 192, 169, 226, 188, 148, 169, 218, 161, 208, 219, 160, 141, 232, 196, 201, 222, 198, 195, 179, 152, 111, 184, 170, 167, 193, 146, 201, 227
|276, 285, 276, 295, 280, 289, 226, 217, 230, 200, 202, 211, 288, 252, 236, 236, 217, 224, 287, 262, 276, 267, 225, 248, 240, 259, 218, 271, 258, 219, 294, 194, 242, 288, 294, 242, 258, 220, 218, 248, 184, 252
|244, 302, 250, 214, 298, 204, 263, 175, 186, 212, 247, 222, 252, 276, 221, 253, 196, 238, 248, 234, 176, 241, 211, 185, 265, 274, 188, 200, 199, 199, 195, 273, 234, 243, 289, 228, 235, 286, 237, 280, 289, 173
|274, 321, 279, 264, 316, 253, 262, 183, 202, 204, 237, 221, 287, 286, 236, 261, 202, 242, 283, 259, 224, 268, 220, 213, 272, 288, 196, 239, 230, 206, 249, 254, 249, 281, 317, 244, 259, 278, 238, 287, 262, 207
|391, 373, 388, 423, 369, 420, 334, 367, 373, 337, 321, 341, 399, 352, 363, 348, 358, 344, 401, 382, 417, 383, 358, 389, 346, 359, 362, 405, 392, 358, 428, 299, 362, 403, 388, 365, 378, 315, 340, 346, 281, 397
|197, 205, 196, 219, 200, 213, 146, 148, 158, 124, 122, 133, 208, 172, 159, 156, 143, 145, 208, 183, 203, 188, 148, 175, 160, 179, 146, 196, 182, 144, 219, 113, 163, 209, 214, 163, 180, 140, 139, 168, 105, 181
|254, 254, 253, 279, 249, 274, 199, 211, 220, 186, 179, 193, 264, 223, 218, 212, 206, 202, 265, 241, 266, 245, 209, 237, 213, 230, 208, 257, 244, 206, 280, 165, 221, 266, 265, 222, 237, 189, 197, 218, 151, 244
|252, 311, 259, 219, 308, 210, 280, 197, 204, 235, 268, 243, 259, 290, 237, 269, 217, 256, 254, 245, 185, 251, 230, 199, 280, 287, 209, 209, 211, 219, 199, 295, 249, 250, 297, 243, 247, 305, 256, 295, 312, 188
|180, 203, 181, 193, 198, 186, 139, 111, 125, 98, 112, 113, 192, 167, 137, 146, 113, 130, 191, 164, 170, 171, 124, 143, 153, 172, 113, 168, 154, 115, 189, 116, 146, 191, 207, 144, 162, 144, 124, 165, 115, 146
|109, 102, 107, 112, 106, 123, 155, 197, 178, 192, 179, 176, 96, 129, 152, 144, 183, 159, 98, 125, 153, 118, 168, 164, 140, 122, 187, 137, 147, 180, 128, 188, 143, 100, 88, 145, 128, 164, 164, 134, 202, 169
|168, 225, 174, 143, 221, 132, 183, 96, 107, 133, 168, 143, 177, 197, 142, 174, 117, 159, 173, 156, 103, 164, 132, 106, 186, 196, 109, 124, 122, 119, 124, 194, 156, 169, 214, 149, 157, 206, 158, 201, 210, 96
|237, 266, 239, 244, 261, 235, 202, 155, 173, 154, 174, 171, 250, 229, 194, 207, 165, 190, 248, 221, 214, 228, 179, 190, 215, 234, 162, 217, 205, 167, 236, 180, 204, 247, 268, 201, 219, 208, 184, 228, 180, 190
|137, 80, 130, 175, 81, 181, 114, 203, 189, 171, 137, 156, 133, 98, 152, 121, 181, 137, 138, 142, 203, 136, 164, 189, 109, 100, 189, 179, 176, 178, 192, 120, 139, 142, 98, 146, 140, 95, 140, 94, 116, 201
|68, 79, 67, 68, 81, 79, 119, 153, 134, 150, 141, 135, 56, 97, 110, 107, 140, 119, 56, 83, 109, 77, 125, 120, 105, 89, 143, 93, 103, 137, 85, 154, 102, 57, 61, 104, 86, 133, 125, 103, 170, 125
|267, 208, 260, 300, 212, 309, 255, 343, 327, 313, 279, 297, 259, 236, 291, 260, 321, 278, 264, 276, 334, 269, 304, 326, 249, 236, 329, 311, 311, 318, 319, 261, 277, 268, 222, 284, 275, 237, 281, 233, 256, 337
|];
E_ij = 
[|551, 491, 544, 609, 488, 612, 473, 575, 571, 520, 475, 513, 556, 483, 535, 495, 549, 503, 561, 546, 625, 543, 537, 588, 484, 492, 560, 595, 581, 547, 627, 434, 524, 566, 519, 532, 541, 436, 500, 473, 406, 604
|531, 603, 538, 512, 595, 495, 516, 394, 423, 428, 477, 453, 549, 550, 474, 513, 424, 485, 544, 509, 451, 522, 451, 438, 529, 554, 414, 476, 464, 429, 488, 503, 494, 539, 595, 486, 508, 539, 479, 553, 514, 427
|209, 290, 217, 187, 284, 171, 225, 100, 110, 155, 204, 167, 226, 247, 164, 212, 127, 189, 220, 189, 130, 202, 148, 114, 229, 246, 116, 150, 140, 131, 167, 245, 184, 215, 277, 175, 190, 261, 187, 252, 271, 102
|430, 374, 423, 488, 371, 491, 352, 459, 453, 403, 356, 394, 436, 362, 414, 374, 432, 382, 440, 425, 505, 422, 418, 468, 363, 372, 442, 474, 461, 429, 506, 315, 403, 446, 401, 411, 420, 316, 380, 352, 287, 484
|495, 410, 486, 540, 416, 554, 490, 619, 594, 578, 528, 553, 482, 458, 539, 495, 586, 522, 488, 512, 595, 500, 559, 588, 478, 456, 598, 561, 564, 581, 569, 505, 518, 495, 426, 527, 511, 467, 528, 454, 500, 603
|347, 342, 345, 389, 335, 384, 264, 302, 310, 256, 237, 263, 362, 298, 299, 283, 288, 272, 364, 330, 377, 335, 288, 335, 284, 309, 294, 360, 340, 288, 395, 211, 300, 366, 360, 303, 325, 245, 265, 291, 189, 346
|427, 492, 434, 370, 493, 370, 508, 451, 438, 491, 518, 486, 422, 495, 454, 486, 460, 485, 417, 434, 371, 435, 460, 413, 494, 485, 455, 391, 409, 460, 356, 555, 459, 411, 464, 453, 439, 543, 490, 505, 584, 402
|240, 328, 250, 193, 324, 178, 284, 172, 174, 225, 271, 233, 251, 296, 219, 266, 195, 249, 244, 228, 138, 238, 211, 162, 282, 292, 185, 175, 178, 198, 164, 312, 236, 238, 308, 226, 231, 321, 250, 303, 340, 145
|312, 352, 315, 330, 344, 319, 255, 206, 228, 189, 213, 212, 331, 297, 248, 264, 210, 238, 329, 289, 294, 299, 227, 254, 275, 304, 209, 292, 272, 213, 324, 223, 262, 328, 356, 258, 285, 265, 230, 294, 226, 259
|149, 198, 153, 123, 199, 138, 235, 256, 228, 262, 261, 243, 136, 210, 205, 214, 241, 226, 134, 168, 179, 162, 224, 204, 216, 199, 244, 162, 181, 238, 142, 287, 198, 131, 169, 197, 173, 263, 234, 219, 314, 208
|256, 336, 264, 233, 329, 216, 263, 129, 152, 180, 234, 200, 273, 289, 207, 253, 162, 227, 268, 236, 173, 249, 188, 161, 270, 290, 150, 198, 187, 166, 209, 271, 228, 263, 324, 219, 236, 295, 224, 294, 294, 149
|269, 199, 261, 304, 207, 320, 294, 404, 376, 375, 336, 349, 252, 254, 325, 290, 375, 318, 258, 290, 363, 277, 348, 364, 276, 248, 385, 331, 338, 370, 333, 329, 304, 264, 203, 312, 291, 287, 325, 255, 338, 377
|470, 484, 470, 499, 477, 490, 395, 382, 402, 356, 359, 372, 488, 434, 411, 411, 382, 392, 487, 449, 470, 457, 393, 428, 417, 445, 383, 463, 443, 384, 497, 347, 419, 488, 497, 419, 444, 387, 384, 429, 332, 435
|394, 481, 403, 350, 475, 335, 422, 291, 307, 346, 398, 362, 406, 442, 360, 408, 322, 386, 400, 379, 293, 390, 345, 305, 425, 440, 310, 328, 327, 327, 321, 437, 380, 393, 462, 370, 381, 457, 384, 448, 461, 288
|466, 536, 473, 450, 528, 434, 448, 328, 357, 361, 409, 386, 484, 483, 408, 445, 357, 417, 479, 443, 391, 456, 385, 374, 462, 487, 348, 413, 400, 363, 428, 435, 428, 475, 529, 420, 442, 471, 411, 485, 447, 364
|637, 609, 633, 684, 604, 681, 551, 601, 610, 556, 532, 561, 649, 578, 595, 572, 587, 566, 651, 623, 676, 625, 587, 634, 569, 589, 594, 657, 638, 587, 693, 499, 594, 655, 633, 598, 617, 523, 560, 569, 472, 646
|359, 372, 359, 392, 365, 384, 283, 286, 301, 250, 247, 264, 376, 322, 302, 299, 279, 281, 376, 339, 369, 346, 287, 327, 304, 332, 283, 358, 338, 281, 393, 234, 309, 377, 385, 309, 334, 275, 273, 316, 221, 336
|402, 402, 400, 439, 394, 432, 320, 338, 351, 300, 289, 311, 418, 356, 349, 339, 330, 325, 418, 383, 420, 389, 335, 377, 341, 367, 334, 407, 387, 331, 442, 268, 353, 420, 418, 354, 377, 304, 317, 349, 248, 387
|420, 508, 429, 369, 504, 356, 462, 337, 348, 393, 444, 406, 430, 476, 397, 445, 366, 426, 423, 408, 318, 418, 386, 340, 461, 472, 355, 355, 358, 370, 340, 484, 415, 416, 487, 405, 411, 498, 425, 483, 510, 323
|308, 343, 310, 328, 335, 317, 247, 205, 226, 186, 206, 207, 327, 289, 244, 257, 208, 233, 325, 285, 293, 295, 224, 253, 268, 297, 208, 290, 270, 211, 322, 212, 257, 324, 349, 254, 281, 254, 225, 286, 211, 258
|216, 205, 213, 221, 211, 237, 284, 348, 319, 340, 321, 316, 197, 246, 281, 269, 327, 291, 200, 240, 281, 229, 304, 298, 262, 236, 333, 258, 272, 322, 245, 334, 266, 202, 184, 270, 244, 299, 299, 253, 355, 306
|285, 370, 294, 248, 364, 231, 308, 177, 193, 232, 285, 248, 299, 329, 247, 295, 208, 272, 293, 268, 187, 279, 231, 193, 312, 327, 196, 220, 216, 212, 220, 324, 267, 287, 354, 257, 269, 343, 270, 335, 349, 177
|396, 440, 400, 407, 432, 393, 344, 274, 301, 273, 302, 297, 416, 385, 332, 352, 288, 326, 413, 373, 362, 384, 309, 327, 364, 393, 284, 367, 348, 292, 395, 311, 347, 411, 444, 343, 369, 353, 318, 383, 312, 327
|262, 177, 253, 319, 179, 329, 228, 362, 340, 314, 262, 292, 257, 204, 286, 238, 329, 263, 264, 271, 361, 262, 303, 341, 221, 208, 340, 325, 321, 324, 346, 237, 266, 270, 205, 276, 268, 200, 267, 198, 232, 358
|141, 158, 140, 141, 161, 158, 218, 269, 240, 264, 251, 242, 123, 185, 205, 200, 249, 218, 124, 164, 202, 154, 227, 219, 197, 173, 254, 178, 193, 244, 167, 270, 192, 125, 131, 195, 168, 239, 227, 193, 294, 227
|438, 350, 429, 488, 356, 501, 421, 553, 529, 508, 456, 484, 427, 392, 475, 429, 520, 455, 434, 452, 540, 441, 494, 527, 411, 393, 532, 504, 504, 515, 517, 430, 454, 441, 371, 464, 451, 394, 459, 387, 422, 543
|];

% Define sets I and J
int: I;
int: J;

int: C; % Cost of installing a warehouse in all zones
int: CV; % Capacity in green zone
int: CC; % Capacity in blue zone

array[1..I] of int: O_i; % Emissions per operation for each warehouse i
array[1..I, 1..J] of int: D_ij; % Distance between warehouse i and store j
array[1..I, 1..J] of int: E_ij; % Transportation emissions
array[1..I] of int: V_i; % 1 if warehouse i is in the green zone, 0 if in the blue zone

% Define decision variables
array[1..I, 1..J] of var 0..1: X; % 1 if warehouse i supplies store j, 0 otherwise
array[1..I] of var 0..1: Y;

% Define constraints

% Add the constraint to ensure Y_i is 1 if the warehouse I supplies at least one store
constraint forall(i in 1..I)(
  sum(j in 1..J)(X[i,j]) > 0 -> Y[i] == 1
);

% Emissions constraint
constraint sum(i in 1..I, j in 1..J)(E_ij[i, j] * X[i, j]) + sum(i in 1..I)(O_i[i] * Y[i]) <= 500 * J;

% Assignment constraint
constraint forall(j in 1..J)(sum(i in 1..I)(X[i, j]) == 1);

% Green zone capacity constraint
constraint forall(i in 1..I)(sum(j in 1..J)(X[i, j] * V_i[i]) <= CV);

% Blue zone capacity constraint
constraint forall(i in 1..I)(sum(j in 1..J)(X[i, j] * (1 - V_i[i])) <= CC);

% Solve the optimization problem using a solver
% Define the objective function
solve minimize sum(i in 1..I, j in 1..J)(1.25 * D_ij[i, j] * X[i, j]) + sum(i in 1..I)(C * Y[i]);

output ["Solution:", ""];
output ["X = \n", show2d(X), ";"];
output ["\n"];
output ["Y = ", show(Y), ";"];
output ["\n"];
output ["FO = ", show(sum(i in 1..I, j in 1..J)(1.25 * D_ij[i, j] * X[i, j]) + sum(i in 1..I)(C * Y[i])), "\n"];