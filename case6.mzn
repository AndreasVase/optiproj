I = 38;
J = 39;
C = 1898;
CV = 2;
CC = 15;
O_i = [41, 51, 38, 26, 25, 37, 23, 47, 20, 50, 28, 32, 67, 61, 40, 49, 32, 50, 24, 60, 60, 34, 42, 29, 30, 28, 36, 66, 38, 56, 24, 22, 66, 39, 70, 47, 41, 58];
V_i = [1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1];
D_ij = 
[|151, 164, 150, 169, 158, 99, 147, 152, 153, 114, 96, 141, 172, 122, 195, 197, 202, 130, 185, 148, 191, 180, 184, 110, 112, 152, 121, 150, 111, 198, 194, 189, 156, 182, 165, 125, 157, 176, 134
|185, 213, 191, 222, 219, 142, 199, 203, 215, 175, 160, 190, 230, 178, 242, 257, 260, 186, 224, 186, 246, 221, 227, 171, 173, 200, 155, 210, 142, 253, 253, 249, 205, 235, 226, 163, 210, 216, 192
|241, 278, 252, 289, 290, 207, 266, 269, 286, 246, 232, 256, 299, 247, 304, 328, 329, 256, 282, 245, 314, 281, 288, 243, 244, 265, 214, 281, 200, 321, 323, 320, 270, 301, 297, 224, 277, 275, 261
|193, 161, 182, 158, 191, 230, 178, 173, 198, 222, 251, 184, 165, 205, 131, 159, 144, 200, 153, 189, 141, 153, 146, 229, 223, 173, 220, 193, 233, 135, 154, 163, 169, 145, 187, 210, 170, 158, 197
|305, 266, 286, 252, 202, 262, 250, 257, 195, 203, 183, 258, 228, 228, 291, 219, 235, 225, 312, 296, 251, 301, 297, 198, 204, 267, 290, 206, 290, 253, 227, 217, 265, 260, 201, 282, 248, 304, 222
|352, 357, 356, 365, 411, 405, 376, 369, 418, 429, 458, 375, 383, 405, 326, 388, 372, 403, 322, 355, 359, 329, 329, 436, 429, 363, 382, 409, 392, 355, 380, 391, 362, 354, 410, 378, 373, 331, 403
|212, 169, 191, 154, 103, 175, 153, 160, 96, 111, 98, 162, 129, 135, 192, 121, 137, 130, 214, 202, 152, 204, 199, 107, 112, 170, 201, 108, 204, 154, 128, 118, 168, 161, 102, 192, 151, 207, 126
|160, 164, 156, 166, 148, 106, 146, 152, 142, 106, 83, 142, 165, 119, 196, 187, 194, 125, 190, 156, 186, 184, 187, 100, 104, 154, 131, 140, 123, 193, 186, 180, 157, 179, 154, 133, 154, 182, 129
|106, 123, 112, 137, 187, 159, 140, 133, 194, 192, 219, 136, 162, 167, 99, 181, 165, 167, 80, 109, 143, 89, 92, 199, 192, 125, 135, 182, 146, 143, 171, 180, 125, 131, 189, 132, 141, 89, 169
|69, 100, 80, 117, 167, 122, 115, 108, 173, 164, 189, 107, 145, 138, 85, 169, 155, 140, 54, 74, 130, 65, 71, 170, 163, 98, 97, 161, 107, 132, 159, 166, 101, 115, 170, 96, 118, 62, 143
|201, 257, 222, 274, 298, 198, 254, 253, 298, 261, 263, 240, 295, 249, 271, 327, 322, 257, 237, 210, 299, 242, 251, 262, 259, 244, 186, 288, 175, 305, 319, 320, 250, 283, 305, 199, 264, 235, 264
|77, 131, 97, 149, 176, 78, 129, 127, 177, 144, 154, 115, 170, 127, 147, 202, 196, 135, 116, 85, 173, 119, 128, 146, 142, 119, 61, 166, 51, 179, 194, 196, 124, 157, 183, 74, 139, 112, 142
|150, 205, 170, 223, 249, 149, 203, 202, 249, 214, 219, 189, 244, 200, 219, 276, 271, 208, 186, 158, 247, 190, 199, 215, 212, 193, 135, 239, 125, 253, 268, 270, 199, 231, 256, 148, 213, 183, 214
|190, 147, 170, 132, 82, 155, 132, 138, 75, 89, 79, 141, 108, 113, 171, 102, 118, 108, 193, 180, 131, 182, 177, 86, 91, 148, 179, 86, 183, 134, 109, 99, 146, 140, 81, 170, 129, 185, 104
|235, 235, 236, 242, 288, 286, 254, 247, 296, 307, 336, 254, 261, 283, 204, 267, 251, 281, 202, 237, 237, 208, 207, 313, 307, 242, 265, 287, 276, 233, 259, 269, 240, 232, 288, 260, 251, 210, 280
|321, 262, 297, 243, 211, 311, 259, 262, 212, 250, 256, 273, 218, 261, 263, 186, 196, 252, 299, 310, 221, 290, 281, 251, 252, 272, 326, 221, 335, 217, 196, 192, 267, 239, 204, 314, 250, 296, 246
|183, 166, 171, 162, 126, 131, 147, 154, 119, 95, 66, 148, 150, 119, 198, 163, 174, 121, 204, 176, 175, 195, 195, 89, 95, 160, 159, 123, 156, 180, 165, 157, 161, 174, 131, 156, 152, 195, 122
|117, 121, 118, 131, 181, 168, 139, 132, 188, 192, 221, 137, 154, 168, 92, 169, 153, 166, 84, 119, 133, 91, 91, 199, 192, 126, 148, 177, 159, 131, 159, 169, 125, 123, 182, 142, 138, 93, 167
|350, 293, 328, 275, 260, 355, 297, 297, 264, 304, 318, 310, 256, 307, 283, 225, 228, 298, 320, 341, 251, 312, 303, 307, 306, 305, 363, 270, 375, 245, 232, 232, 300, 267, 253, 351, 286, 319, 292
|131, 183, 150, 200, 223, 124, 179, 179, 223, 187, 190, 166, 220, 174, 200, 252, 247, 182, 169, 138, 225, 172, 181, 188, 185, 170, 112, 213, 101, 231, 244, 245, 176, 209, 230, 125, 190, 165, 189
|110, 152, 128, 170, 219, 161, 165, 159, 224, 211, 235, 156, 197, 186, 138, 222, 208, 189, 106, 119, 183, 117, 124, 217, 210, 148, 133, 212, 139, 185, 211, 219, 151, 168, 222, 136, 169, 113, 192
|371, 315, 348, 296, 254, 350, 308, 312, 252, 284, 281, 320, 268, 301, 324, 240, 254, 294, 357, 361, 279, 347, 339, 283, 286, 323, 370, 263, 377, 277, 251, 244, 318, 295, 248, 359, 300, 352, 288
|364, 306, 340, 286, 250, 348, 301, 304, 249, 285, 286, 314, 260, 299, 310, 230, 241, 291, 346, 353, 267, 336, 327, 284, 287, 315, 366, 260, 374, 264, 240, 235, 310, 284, 243, 354, 292, 342, 284
|344, 335, 336, 331, 293, 290, 316, 323, 285, 265, 236, 316, 318, 287, 367, 327, 340, 290, 370, 339, 343, 362, 363, 258, 264, 328, 317, 291, 310, 348, 331, 321, 330, 343, 296, 317, 321, 361, 291
|197, 252, 218, 270, 294, 194, 249, 248, 294, 258, 259, 236, 291, 245, 267, 323, 317, 253, 233, 205, 295, 238, 247, 258, 255, 240, 182, 284, 171, 301, 315, 316, 246, 278, 301, 195, 260, 231, 260
|212, 199, 209, 202, 244, 259, 218, 212, 252, 268, 297, 220, 217, 247, 167, 218, 202, 243, 174, 212, 192, 179, 175, 275, 269, 208, 242, 244, 255, 188, 211, 221, 206, 190, 242, 235, 212, 182, 242
|166, 224, 190, 244, 283, 192, 229, 226, 285, 257, 270, 216, 270, 237, 226, 301, 291, 243, 190, 177, 265, 198, 207, 260, 256, 215, 168, 273, 163, 270, 291, 295, 220, 248, 289, 178, 238, 191, 249
|323, 379, 345, 397, 421, 321, 377, 376, 420, 383, 382, 363, 418, 371, 393, 450, 445, 380, 358, 332, 422, 364, 373, 383, 381, 367, 309, 411, 299, 428, 442, 443, 373, 405, 428, 322, 387, 356, 386
|185, 168, 173, 163, 127, 134, 149, 156, 120, 97, 68, 151, 152, 121, 200, 164, 175, 123, 206, 178, 176, 197, 197, 90, 97, 162, 162, 124, 159, 182, 166, 158, 163, 175, 132, 159, 154, 197, 124
|67, 116, 83, 132, 157, 58, 111, 111, 158, 124, 133, 98, 153, 108, 135, 185, 180, 116, 107, 72, 157, 108, 116, 126, 122, 103, 45, 147, 33, 164, 177, 178, 109, 142, 164, 57, 122, 102, 122
|153, 127, 143, 127, 167, 193, 145, 139, 175, 193, 222, 149, 140, 173, 95, 141, 125, 169, 113, 150, 115, 113, 108, 200, 194, 138, 181, 167, 194, 111, 134, 144, 134, 115, 165, 171, 138, 119, 167
|278, 223, 257, 207, 203, 290, 230, 229, 208, 247, 267, 242, 193, 245, 209, 164, 163, 237, 245, 269, 182, 238, 229, 251, 249, 236, 294, 212, 307, 176, 169, 172, 230, 197, 196, 282, 219, 245, 230
|78, 96, 78, 106, 113, 27, 83, 86, 111, 73, 76, 74, 117, 66, 126, 148, 147, 74, 112, 76, 131, 108, 112, 73, 71, 84, 49, 103, 42, 138, 142, 140, 89, 118, 120, 52, 94, 104, 81
|158, 173, 158, 179, 169, 107, 157, 162, 164, 125, 107, 150, 183, 133, 204, 208, 212, 140, 193, 156, 201, 188, 192, 121, 123, 162, 128, 161, 117, 208, 205, 200, 166, 192, 176, 133, 167, 185, 145
|366, 319, 345, 302, 252, 330, 306, 311, 247, 266, 251, 316, 275, 289, 338, 256, 273, 284, 365, 356, 293, 354, 348, 262, 267, 322, 356, 259, 359, 294, 266, 257, 319, 306, 248, 347, 301, 358, 279
|236, 234, 230, 233, 204, 182, 216, 222, 197, 168, 140, 214, 227, 187, 267, 242, 252, 192, 265, 232, 250, 258, 260, 161, 167, 226, 208, 199, 200, 256, 243, 236, 228, 246, 209, 209, 222, 256, 194
|158, 172, 164, 184, 234, 211, 190, 183, 241, 243, 271, 187, 208, 217, 145, 223, 206, 217, 131, 162, 186, 140, 141, 249, 243, 175, 187, 230, 197, 185, 213, 223, 176, 176, 235, 184, 189, 140, 218
|265, 208, 243, 190, 178, 270, 212, 212, 181, 221, 238, 224, 172, 223, 199, 141, 143, 214, 236, 256, 165, 228, 218, 225, 224, 220, 278, 187, 290, 159, 147, 148, 214, 182, 170, 265, 200, 235, 208
|];
E_ij = 
[|267, 287, 266, 295, 278, 190, 262, 270, 271, 212, 186, 253, 299, 225, 334, 337, 344, 236, 318, 264, 327, 311, 317, 206, 210, 270, 223, 266, 208, 338, 333, 325, 276, 314, 288, 229, 276, 306, 243
|328, 371, 338, 385, 379, 265, 350, 355, 373, 313, 291, 337, 396, 318, 414, 437, 441, 330, 387, 330, 420, 383, 392, 308, 310, 352, 284, 366, 265, 430, 431, 425, 359, 403, 390, 296, 366, 376, 339
|400, 455, 417, 472, 473, 348, 437, 441, 468, 407, 387, 422, 487, 409, 495, 530, 532, 422, 461, 405, 509, 460, 470, 402, 404, 436, 359, 459, 338, 519, 523, 518, 444, 490, 484, 374, 453, 451, 430
|316, 268, 299, 263, 312, 371, 293, 286, 324, 360, 403, 303, 274, 334, 223, 265, 243, 326, 255, 310, 238, 255, 245, 370, 361, 286, 356, 316, 376, 229, 257, 271, 280, 244, 307, 341, 281, 264, 321
|483, 425, 455, 404, 328, 419, 401, 411, 318, 329, 299, 412, 367, 368, 462, 353, 378, 363, 493, 469, 401, 477, 471, 322, 331, 425, 460, 335, 461, 405, 366, 350, 423, 415, 326, 449, 398, 481, 358
|565, 573, 572, 584, 653, 645, 602, 591, 665, 680, 724, 600, 612, 645, 526, 620, 595, 642, 520, 570, 576, 531, 530, 691, 681, 582, 610, 651, 625, 570, 608, 624, 581, 568, 652, 605, 597, 533, 641
|341, 276, 310, 254, 178, 286, 253, 263, 168, 189, 170, 267, 217, 225, 312, 204, 229, 219, 345, 326, 251, 329, 322, 184, 192, 279, 324, 185, 329, 255, 216, 200, 275, 264, 176, 311, 249, 333, 212
|287, 293, 281, 297, 269, 207, 266, 275, 260, 206, 172, 260, 295, 225, 341, 328, 338, 235, 333, 281, 326, 324, 328, 197, 203, 278, 244, 258, 232, 336, 326, 317, 283, 316, 278, 247, 279, 320, 241
|179, 204, 189, 225, 301, 258, 231, 220, 311, 309, 349, 224, 264, 270, 168, 292, 268, 270, 140, 184, 235, 154, 158, 318, 308, 207, 223, 294, 239, 235, 276, 290, 208, 216, 304, 218, 231, 153, 273
|153, 200, 171, 226, 301, 234, 223, 213, 309, 296, 334, 211, 268, 257, 178, 304, 283, 260, 132, 162, 246, 148, 157, 305, 295, 198, 196, 291, 210, 249, 288, 300, 201, 223, 306, 194, 227, 143, 265
|330, 413, 361, 440, 475, 326, 409, 407, 475, 420, 423, 389, 471, 401, 435, 519, 511, 414, 384, 343, 477, 392, 405, 421, 417, 394, 308, 460, 291, 486, 507, 509, 403, 452, 486, 327, 425, 381, 424
|148, 229, 177, 255, 296, 149, 225, 223, 298, 249, 263, 205, 288, 223, 253, 336, 327, 235, 206, 159, 292, 211, 224, 252, 246, 210, 124, 281, 109, 301, 323, 326, 219, 268, 307, 143, 241, 201, 245
|292, 375, 323, 402, 441, 291, 371, 370, 441, 388, 395, 351, 434, 367, 396, 482, 473, 379, 346, 304, 438, 353, 366, 390, 385, 356, 270, 426, 255, 447, 469, 472, 365, 414, 451, 289, 387, 342, 389
|346, 282, 316, 260, 184, 293, 259, 268, 174, 195, 179, 272, 224, 230, 318, 215, 239, 224, 350, 332, 258, 334, 327, 190, 198, 284, 330, 191, 336, 263, 225, 210, 280, 271, 183, 317, 255, 339, 218
|392, 393, 395, 403, 473, 469, 422, 411, 484, 500, 544, 421, 432, 465, 346, 441, 416, 461, 343, 395, 395, 353, 351, 510, 500, 403, 437, 471, 454, 390, 429, 444, 401, 388, 472, 430, 416, 356, 461
|530, 442, 495, 413, 366, 516, 438, 442, 367, 424, 434, 458, 376, 440, 444, 328, 343, 428, 498, 515, 381, 484, 471, 426, 427, 458, 538, 381, 552, 375, 343, 337, 450, 407, 356, 520, 424, 493, 418
|306, 282, 288, 275, 221, 229, 253, 263, 210, 175, 132, 255, 258, 210, 329, 277, 294, 214, 338, 296, 294, 325, 325, 165, 175, 273, 271, 216, 266, 303, 280, 268, 274, 293, 228, 267, 260, 324, 215
|226, 231, 228, 247, 322, 303, 259, 249, 332, 339, 381, 256, 282, 302, 188, 304, 279, 300, 176, 228, 249, 187, 187, 349, 338, 239, 272, 316, 289, 247, 289, 304, 238, 235, 323, 264, 257, 189, 301
|549, 464, 516, 437, 415, 557, 469, 470, 420, 480, 501, 489, 409, 485, 449, 362, 367, 472, 504, 536, 400, 493, 479, 484, 483, 482, 569, 429, 586, 391, 372, 373, 474, 425, 404, 550, 453, 503, 462
|256, 335, 285, 361, 395, 246, 329, 328, 395, 341, 346, 309, 391, 321, 361, 439, 431, 333, 314, 267, 398, 319, 332, 342, 337, 316, 229, 380, 212, 407, 427, 428, 325, 374, 406, 248, 345, 308, 343
|226, 288, 252, 315, 388, 302, 308, 299, 396, 377, 412, 294, 356, 339, 267, 393, 372, 343, 219, 238, 335, 236, 246, 386, 376, 283, 260, 378, 269, 338, 377, 389, 287, 312, 394, 264, 314, 229, 349
|591, 507, 556, 478, 415, 559, 496, 502, 412, 460, 456, 514, 436, 486, 520, 394, 415, 475, 570, 575, 453, 555, 543, 459, 463, 519, 589, 429, 600, 449, 410, 400, 511, 477, 406, 572, 484, 563, 466
|588, 501, 552, 472, 417, 565, 494, 499, 415, 469, 472, 513, 432, 490, 508, 387, 404, 478, 561, 572, 443, 546, 533, 469, 472, 515, 592, 432, 604, 438, 402, 394, 507, 468, 407, 573, 480, 555, 469
|545, 532, 533, 525, 468, 465, 503, 514, 457, 426, 383, 504, 507, 460, 580, 520, 539, 465, 585, 538, 544, 573, 574, 416, 426, 522, 505, 465, 494, 552, 525, 511, 524, 543, 474, 505, 511, 571, 466
|326, 409, 357, 435, 471, 322, 404, 403, 471, 417, 419, 384, 466, 397, 430, 514, 506, 410, 380, 338, 472, 387, 401, 417, 413, 390, 303, 456, 287, 481, 502, 504, 399, 448, 482, 323, 420, 376, 420
|347, 327, 341, 331, 394, 417, 355, 346, 406, 431, 474, 359, 354, 399, 278, 355, 331, 393, 290, 346, 316, 296, 291, 441, 431, 341, 392, 394, 411, 310, 345, 360, 337, 314, 392, 381, 347, 302, 391
|286, 373, 321, 402, 460, 324, 380, 375, 464, 422, 442, 361, 441, 391, 376, 487, 472, 401, 321, 301, 434, 333, 347, 427, 420, 358, 288, 446, 281, 441, 472, 479, 366, 408, 469, 304, 393, 323, 410
|551, 635, 583, 662, 697, 548, 631, 630, 697, 641, 640, 611, 693, 623, 655, 741, 733, 636, 603, 564, 699, 612, 625, 640, 637, 617, 530, 682, 514, 708, 729, 731, 626, 674, 708, 550, 647, 601, 646
|316, 291, 298, 283, 229, 239, 262, 272, 218, 184, 140, 264, 266, 219, 338, 285, 301, 223, 347, 306, 302, 334, 334, 174, 184, 282, 281, 224, 276, 311, 288, 275, 283, 301, 236, 277, 269, 334, 224
|156, 230, 181, 255, 292, 143, 223, 222, 293, 242, 256, 204, 285, 218, 259, 333, 326, 230, 216, 165, 292, 219, 231, 245, 239, 210, 123, 277, 106, 302, 321, 323, 219, 269, 302, 142, 240, 209, 240
|253, 215, 239, 215, 275, 314, 242, 233, 286, 314, 358, 248, 234, 284, 167, 236, 212, 277, 193, 249, 197, 194, 186, 324, 315, 231, 295, 275, 315, 190, 225, 240, 225, 196, 272, 281, 231, 203, 274
|439, 357, 408, 333, 327, 457, 367, 366, 334, 393, 422, 385, 312, 390, 335, 269, 267, 377, 389, 426, 295, 379, 365, 399, 396, 377, 464, 340, 482, 286, 276, 280, 368, 318, 317, 445, 350, 390, 368
|184, 211, 183, 226, 236, 107, 191, 196, 233, 175, 180, 177, 242, 165, 255, 288, 287, 178, 234, 180, 262, 228, 235, 175, 172, 192, 140, 221, 129, 273, 279, 276, 199, 244, 247, 144, 207, 222, 187
|276, 299, 277, 308, 292, 200, 275, 282, 285, 227, 200, 265, 313, 238, 346, 351, 358, 249, 328, 273, 341, 322, 328, 220, 224, 282, 231, 280, 215, 351, 347, 340, 288, 328, 303, 238, 289, 316, 257
|619, 548, 587, 523, 448, 565, 529, 537, 440, 469, 447, 544, 482, 504, 577, 454, 479, 496, 617, 604, 510, 601, 592, 463, 471, 554, 604, 459, 608, 511, 469, 455, 549, 529, 443, 590, 522, 607, 489
|401, 399, 393, 397, 353, 321, 371, 380, 343, 299, 257, 368, 387, 328, 448, 411, 426, 335, 445, 395, 422, 435, 437, 289, 298, 386, 359, 346, 347, 431, 412, 401, 389, 417, 361, 361, 381, 431, 338
|278, 299, 288, 317, 393, 358, 327, 316, 403, 405, 447, 321, 353, 367, 259, 376, 351, 367, 238, 284, 321, 251, 253, 415, 405, 304, 322, 387, 337, 319, 361, 375, 305, 306, 394, 318, 325, 251, 369
|456, 370, 423, 343, 325, 464, 376, 376, 330, 390, 415, 395, 316, 393, 356, 270, 273, 379, 412, 442, 306, 400, 386, 396, 394, 389, 475, 338, 493, 297, 279, 281, 380, 331, 314, 456, 359, 410, 370
|];

% Define sets I and J
int: I;
int: J;

int: C; % Cost of installing a warehouse in all zones
int: CV; % Capacity in green zone
int: CC; % Capacity in blue zone

array[1..I] of int: O_i; % Emissions per operation for each warehouse i
array[1..I, 1..J] of int: D_ij; % Distance between warehouse i and store j
array[1..I, 1..J] of int: E_ij; % Transportation emissions
array[1..I] of int: V_i; % 1 if warehouse i is in the green zone, 0 if in the blue zone

% Define decision variables
array[1..I, 1..J] of var 0..1: X; % 1 if warehouse i supplies store j, 0 otherwise
array[1..I] of var 0..1: Y;

% Define constraints

% Add the constraint to ensure Y_i is 1 if the warehouse I supplies at least one store
constraint forall(i in 1..I)(
  sum(j in 1..J)(X[i,j]) > 0 -> Y[i] == 1
);

% Emissions constraint
constraint sum(i in 1..I, j in 1..J)(E_ij[i, j] * X[i, j]) + sum(i in 1..I)(O_i[i] * Y[i]) <= 500 * J;

% Assignment constraint
constraint forall(j in 1..J)(sum(i in 1..I)(X[i, j]) == 1);

% Green zone capacity constraint
constraint forall(i in 1..I)(sum(j in 1..J)(X[i, j] * V_i[i]) <= CV);

% Blue zone capacity constraint
constraint forall(i in 1..I)(sum(j in 1..J)(X[i, j] * (1 - V_i[i])) <= CC);

% Solve the optimization problem using a solver
% Define the objective function
solve minimize sum(i in 1..I, j in 1..J)(1.25 * D_ij[i, j] * X[i, j]) + sum(i in 1..I)(C * Y[i]);

output ["Solution:", ""];
output ["X = \n", show2d(X), ";"];
output ["\n"];
output ["Y = ", show(Y), ";"];
output ["\n"];
output ["FO = ", show(sum(i in 1..I, j in 1..J)(1.25 * D_ij[i, j] * X[i, j]) + sum(i in 1..I)(C * Y[i])), "\n"];