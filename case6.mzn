I = 32;
J = 42;
C = 3262;
CV = 10;
CC = 20;
O_i = [70, 39, 48, 70, 47, 20, 69, 62, 39, 44, 23, 48, 43, 26, 52, 49, 61, 46, 45, 49, 24, 68, 31, 54, 25, 29, 36, 41, 57, 45, 54, 27];
V_i = [1, 0, 0, 1, 0, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0];
D_ij = 
[|98, 47, 94, 98, 127, 138, 124, 89, 162, 119, 135, 141, 101, 162, 71, 64, 105, 102, 47, 53, 65, 94, 159, 80, 133, 101, 15, 131, 68, 133, 92, 147, 159, 78, 110, 118, 126, 57, 124, 150, 150, 135
|324, 360, 313, 300, 285, 274, 276, 312, 237, 318, 284, 261, 299, 236, 338, 337, 305, 300, 360, 345, 333, 305, 244, 328, 265, 303, 383, 269, 329, 274, 323, 252, 240, 321, 290, 294, 290, 344, 290, 248, 250, 288
|193, 285, 285, 257, 199, 198, 232, 230, 238, 171, 188, 279, 234, 240, 288, 272, 205, 222, 285, 260, 256, 235, 220, 286, 255, 219, 269, 228, 250, 209, 298, 234, 235, 261, 228, 200, 305, 237, 196, 246, 232, 182
|64, 152, 137, 107, 46, 42, 77, 87, 82, 46, 35, 122, 85, 84, 147, 133, 61, 75, 152, 127, 117, 88, 64, 142, 99, 72, 152, 72, 111, 53, 151, 77, 79, 117, 77, 51, 151, 108, 45, 89, 75, 31
|283, 191, 220, 246, 300, 309, 281, 257, 309, 306, 311, 265, 263, 309, 201, 212, 282, 271, 191, 217, 226, 258, 317, 208, 274, 272, 197, 289, 233, 300, 206, 299, 309, 229, 273, 293, 230, 237, 300, 295, 302, 313
|90, 176, 184, 159, 110, 115, 142, 130, 163, 72, 102, 191, 136, 164, 183, 166, 108, 125, 176, 153, 150, 136, 145, 183, 167, 121, 158, 141, 145, 123, 195, 153, 159, 158, 134, 108, 209, 129, 106, 165, 153, 96
|175, 146, 100, 110, 150, 148, 118, 138, 106, 188, 159, 69, 127, 105, 122, 130, 154, 138, 146, 145, 137, 130, 125, 113, 93, 142, 178, 119, 138, 138, 101, 110, 109, 123, 127, 152, 66, 159, 154, 98, 112, 166
|185, 110, 91, 120, 180, 184, 149, 146, 162, 206, 191, 112, 143, 161, 94, 111, 171, 154, 110, 126, 125, 141, 176, 93, 131, 158, 142, 155, 130, 172, 80, 157, 163, 117, 149, 177, 76, 148, 182, 148, 160, 196
|337, 301, 259, 272, 309, 305, 278, 301, 258, 349, 317, 231, 290, 257, 278, 289, 315, 300, 301, 305, 298, 293, 277, 270, 254, 304, 334, 278, 299, 296, 257, 266, 262, 284, 289, 313, 226, 321, 314, 254, 267, 324
|247, 168, 153, 182, 241, 245, 210, 208, 219, 268, 253, 169, 205, 218, 155, 171, 233, 216, 168, 186, 187, 203, 234, 154, 190, 220, 198, 215, 192, 233, 141, 216, 220, 179, 211, 239, 136, 209, 244, 206, 219, 258
|233, 325, 325, 296, 237, 236, 270, 270, 274, 211, 226, 317, 273, 275, 329, 312, 245, 261, 325, 301, 296, 275, 255, 326, 293, 258, 310, 266, 290, 247, 338, 271, 271, 301, 267, 239, 344, 277, 235, 283, 269, 220
|340, 269, 313, 332, 370, 381, 362, 330, 398, 359, 378, 365, 340, 399, 289, 293, 348, 344, 269, 289, 302, 334, 400, 299, 366, 343, 255, 370, 307, 375, 303, 385, 396, 311, 351, 361, 335, 300, 367, 385, 388, 378
|94, 174, 149, 120, 64, 55, 85, 107, 74, 79, 55, 122, 101, 75, 164, 152, 85, 93, 174, 149, 138, 106, 57, 157, 101, 93, 178, 78, 132, 64, 163, 76, 72, 135, 91, 73, 156, 134, 66, 85, 72, 56
|279, 318, 272, 257, 240, 229, 232, 268, 193, 273, 238, 220, 255, 193, 297, 295, 260, 256, 319, 302, 290, 261, 199, 287, 222, 258, 340, 225, 286, 229, 283, 208, 197, 278, 246, 249, 251, 300, 245, 204, 206, 243
|64, 157, 146, 116, 56, 55, 89, 93, 99, 42, 45, 136, 93, 100, 154, 138, 67, 82, 157, 131, 123, 96, 80, 150, 112, 80, 152, 85, 116, 66, 159, 92, 95, 125, 87, 59, 163, 110, 54, 104, 91, 40
|157, 95, 144, 155, 187, 198, 183, 149, 220, 177, 195, 195, 160, 221, 119, 118, 166, 162, 95, 110, 123, 153, 219, 129, 190, 161, 74, 190, 127, 193, 137, 206, 218, 134, 170, 178, 173, 118, 184, 208, 209, 195
|146, 239, 237, 208, 150, 149, 183, 183, 190, 124, 139, 230, 185, 191, 242, 225, 157, 174, 239, 214, 209, 187, 171, 239, 206, 171, 226, 179, 203, 160, 250, 186, 187, 214, 180, 152, 256, 191, 147, 197, 184, 133
|356, 263, 272, 302, 362, 368, 335, 322, 352, 379, 373, 303, 323, 352, 262, 278, 348, 333, 263, 288, 294, 320, 365, 266, 320, 336, 282, 341, 300, 357, 257, 346, 353, 291, 331, 357, 266, 311, 363, 338, 349, 377
|279, 197, 185, 213, 273, 276, 241, 240, 250, 299, 284, 200, 236, 249, 185, 202, 265, 248, 197, 217, 218, 235, 266, 185, 222, 251, 226, 247, 223, 265, 173, 247, 251, 210, 242, 270, 168, 240, 275, 237, 250, 290
|149, 237, 243, 216, 162, 164, 195, 188, 209, 129, 153, 244, 193, 211, 243, 226, 164, 181, 237, 213, 210, 194, 191, 242, 220, 178, 218, 193, 205, 174, 254, 203, 206, 217, 190, 162, 266, 190, 159, 215, 201, 146
|100, 150, 177, 161, 137, 146, 160, 132, 193, 99, 135, 203, 144, 194, 166, 150, 123, 135, 150, 134, 138, 140, 179, 169, 183, 132, 121, 163, 135, 150, 184, 179, 189, 150, 147, 130, 209, 114, 132, 189, 180, 130
|265, 270, 221, 218, 229, 221, 206, 239, 173, 268, 232, 173, 226, 172, 246, 250, 243, 232, 270, 262, 251, 231, 188, 236, 187, 236, 299, 203, 249, 215, 227, 186, 177, 237, 220, 235, 191, 268, 234, 177, 185, 239
|100, 175, 147, 118, 67, 56, 83, 109, 67, 87, 59, 116, 101, 68, 163, 152, 88, 95, 175, 150, 139, 107, 51, 156, 96, 94, 181, 76, 133, 64, 161, 71, 65, 135, 91, 76, 151, 137, 69, 80, 67, 61
|172, 129, 87, 103, 152, 152, 119, 133, 117, 188, 163, 71, 124, 115, 106, 117, 152, 135, 129, 133, 126, 126, 134, 98, 95, 139, 162, 122, 128, 141, 85, 117, 119, 113, 126, 153, 54, 149, 156, 106, 119, 169
|200, 112, 149, 172, 221, 230, 206, 178, 238, 222, 231, 200, 186, 238, 126, 135, 201, 192, 112, 136, 147, 180, 243, 136, 204, 193, 113, 213, 153, 222, 137, 226, 237, 153, 196, 213, 168, 154, 219, 224, 229, 232
|339, 423, 433, 407, 353, 354, 386, 378, 397, 319, 343, 434, 384, 398, 431, 414, 355, 372, 422, 401, 399, 384, 378, 431, 410, 368, 399, 384, 394, 364, 444, 391, 393, 407, 380, 353, 457, 377, 349, 403, 390, 336
|182, 162, 209, 210, 220, 231, 228, 192, 267, 195, 224, 255, 206, 267, 186, 179, 199, 203, 161, 165, 177, 200, 260, 195, 243, 201, 130, 234, 178, 230, 207, 252, 263, 190, 214, 211, 241, 161, 216, 257, 254, 221
|58, 146, 131, 101, 40, 37, 72, 81, 80, 41, 29, 118, 79, 81, 141, 126, 55, 69, 146, 120, 111, 82, 61, 136, 94, 66, 146, 67, 105, 48, 145, 73, 76, 111, 71, 45, 146, 102, 39, 85, 72, 25
|110, 196, 174, 145, 87, 79, 111, 129, 102, 91, 76, 150, 125, 103, 188, 175, 105, 116, 196, 170, 160, 129, 85, 182, 128, 115, 197, 105, 154, 89, 189, 103, 100, 158, 115, 94, 183, 153, 87, 113, 100, 74
|331, 296, 254, 267, 303, 299, 272, 295, 252, 342, 311, 225, 284, 250, 273, 284, 309, 294, 297, 300, 293, 287, 270, 266, 248, 298, 330, 272, 294, 290, 252, 260, 256, 279, 283, 306, 221, 316, 308, 248, 261, 318
|288, 205, 194, 223, 282, 286, 251, 249, 260, 309, 294, 211, 246, 259, 194, 211, 274, 257, 205, 225, 226, 244, 276, 194, 232, 261, 234, 256, 232, 275, 182, 257, 261, 219, 252, 280, 177, 248, 285, 247, 260, 299
|427, 351, 333, 359, 416, 417, 383, 388, 382, 447, 427, 337, 382, 381, 337, 354, 411, 394, 351, 369, 369, 382, 400, 336, 360, 398, 381, 387, 373, 406, 323, 383, 385, 359, 387, 415, 310, 392, 419, 372, 386, 433
|];
E_ij = 
[|217, 141, 211, 218, 261, 277, 256, 203, 313, 249, 272, 282, 221, 313, 176, 166, 228, 223, 140, 149, 168, 211, 309, 190, 270, 222, 93, 266, 173, 269, 208, 291, 308, 187, 236, 247, 260, 156, 257, 296, 295, 272
|526, 579, 508, 489, 467, 451, 453, 507, 395, 517, 465, 431, 487, 394, 546, 544, 497, 490, 580, 557, 538, 497, 405, 531, 436, 493, 613, 443, 533, 450, 523, 417, 400, 520, 474, 480, 474, 555, 474, 411, 414, 472
|338, 476, 476, 433, 347, 345, 396, 394, 406, 305, 330, 467, 399, 408, 481, 456, 356, 381, 475, 439, 432, 401, 378, 478, 431, 376, 452, 391, 423, 362, 495, 400, 401, 440, 391, 349, 506, 404, 342, 417, 397, 321
|167, 299, 275, 230, 139, 133, 185, 201, 194, 139, 122, 254, 197, 196, 291, 269, 162, 182, 299, 260, 246, 203, 166, 283, 218, 179, 298, 178, 237, 150, 296, 186, 189, 246, 185, 147, 296, 232, 138, 204, 183, 116
|472, 334, 377, 417, 498, 511, 469, 433, 511, 506, 513, 445, 442, 511, 348, 366, 470, 454, 334, 372, 387, 434, 523, 360, 459, 456, 343, 480, 396, 497, 356, 495, 510, 391, 457, 487, 392, 402, 497, 490, 501, 517
|155, 285, 297, 258, 186, 192, 233, 215, 264, 129, 174, 307, 225, 266, 295, 270, 182, 208, 285, 250, 246, 224, 238, 294, 271, 202, 258, 232, 238, 205, 313, 250, 258, 257, 222, 182, 334, 214, 179, 268, 249, 164
|332, 288, 219, 234, 294, 291, 246, 277, 229, 351, 308, 173, 260, 227, 252, 265, 300, 276, 289, 287, 275, 264, 256, 239, 208, 282, 337, 247, 276, 276, 221, 234, 233, 254, 259, 297, 169, 308, 301, 216, 237, 318
|340, 227, 199, 242, 332, 338, 286, 282, 305, 371, 349, 230, 277, 304, 203, 228, 319, 294, 227, 251, 250, 274, 326, 201, 259, 299, 275, 294, 258, 321, 182, 297, 306, 237, 286, 327, 177, 285, 335, 284, 302, 357
|545, 490, 428, 448, 503, 497, 457, 491, 427, 562, 515, 386, 474, 425, 456, 473, 512, 489, 491, 497, 486, 478, 455, 445, 420, 495, 541, 457, 488, 483, 425, 439, 432, 466, 472, 508, 378, 520, 510, 421, 440, 525
|415, 296, 274, 317, 406, 411, 359, 357, 373, 446, 423, 298, 352, 372, 276, 301, 394, 369, 296, 324, 324, 349, 396, 275, 330, 374, 341, 367, 332, 394, 256, 368, 375, 312, 360, 402, 248, 358, 410, 353, 372, 431
|373, 511, 510, 467, 379, 377, 428, 429, 434, 340, 363, 498, 433, 436, 516, 491, 390, 415, 511, 474, 467, 435, 406, 513, 462, 410, 488, 422, 458, 394, 530, 430, 430, 475, 424, 382, 539, 439, 375, 447, 426, 354
|558, 452, 518, 546, 603, 619, 592, 543, 646, 587, 615, 596, 559, 646, 481, 488, 571, 564, 452, 482, 501, 549, 648, 496, 597, 563, 431, 603, 508, 611, 502, 625, 643, 514, 574, 590, 551, 498, 599, 626, 630, 615
|185, 304, 266, 223, 140, 126, 171, 204, 154, 162, 126, 226, 194, 156, 289, 271, 171, 183, 304, 267, 250, 202, 129, 279, 195, 182, 311, 161, 241, 139, 288, 157, 151, 245, 180, 152, 277, 244, 143, 171, 152, 127
|445, 504, 434, 412, 386, 370, 374, 428, 316, 435, 384, 357, 409, 315, 472, 469, 416, 411, 504, 480, 461, 418, 325, 457, 360, 414, 536, 364, 455, 370, 450, 339, 321, 444, 395, 399, 403, 476, 393, 333, 335, 390
|148, 287, 271, 227, 137, 135, 186, 192, 200, 115, 120, 257, 192, 202, 283, 260, 153, 176, 287, 248, 236, 197, 172, 277, 220, 172, 280, 180, 227, 151, 291, 191, 195, 239, 183, 141, 296, 218, 133, 209, 188, 112
|284, 192, 265, 282, 330, 347, 324, 272, 380, 314, 342, 342, 289, 380, 227, 226, 298, 292, 192, 214, 233, 279, 378, 242, 334, 291, 160, 335, 240, 339, 255, 358, 376, 250, 304, 317, 309, 226, 326, 362, 363, 341
|281, 420, 417, 374, 287, 285, 336, 336, 346, 247, 270, 407, 339, 348, 424, 399, 297, 322, 420, 383, 375, 342, 318, 420, 371, 317, 400, 330, 366, 301, 436, 340, 341, 382, 331, 289, 446, 348, 282, 357, 337, 261
|581, 441, 454, 499, 589, 598, 548, 529, 575, 615, 606, 500, 531, 574, 439, 463, 569, 546, 441, 478, 487, 526, 594, 445, 526, 550, 469, 558, 496, 582, 432, 565, 576, 483, 543, 581, 445, 513, 590, 554, 570, 612
|463, 341, 323, 365, 454, 459, 407, 405, 420, 494, 472, 346, 400, 419, 323, 348, 442, 417, 341, 370, 372, 398, 444, 323, 378, 422, 385, 415, 379, 443, 304, 415, 422, 360, 409, 451, 297, 405, 458, 401, 420, 480
|272, 405, 413, 373, 293, 296, 342, 331, 363, 242, 278, 416, 339, 366, 414, 389, 296, 321, 404, 369, 365, 340, 336, 412, 379, 316, 377, 339, 356, 311, 431, 353, 358, 375, 334, 292, 448, 334, 287, 371, 351, 268
|174, 249, 290, 265, 230, 244, 264, 223, 313, 173, 227, 329, 241, 315, 273, 250, 208, 227, 249, 225, 231, 235, 293, 278, 299, 222, 206, 269, 227, 250, 300, 293, 307, 250, 245, 219, 337, 195, 222, 308, 294, 219
|466, 473, 400, 395, 411, 399, 378, 427, 328, 471, 417, 328, 407, 326, 437, 443, 433, 417, 474, 461, 445, 415, 350, 422, 348, 422, 516, 372, 442, 391, 409, 347, 334, 424, 398, 421, 355, 471, 419, 333, 346, 426
|181, 293, 251, 208, 131, 116, 156, 194, 132, 162, 120, 206, 183, 133, 276, 259, 164, 173, 293, 257, 240, 191, 108, 265, 176, 173, 303, 145, 231, 127, 273, 137, 129, 233, 167, 145, 258, 236, 135, 151, 132, 122
|312, 247, 184, 209, 283, 283, 233, 254, 229, 336, 298, 161, 240, 227, 213, 229, 283, 257, 248, 253, 243, 243, 255, 201, 197, 263, 298, 237, 246, 266, 181, 230, 232, 223, 243, 284, 135, 278, 289, 213, 233, 308
|325, 193, 249, 283, 357, 371, 334, 292, 383, 359, 371, 325, 304, 383, 215, 228, 327, 313, 193, 230, 246, 295, 389, 229, 331, 314, 194, 345, 255, 359, 231, 364, 380, 254, 319, 345, 277, 256, 354, 361, 369, 374
|537, 663, 679, 639, 559, 560, 608, 597, 625, 508, 543, 681, 605, 627, 676, 651, 562, 588, 663, 630, 628, 605, 596, 676, 645, 582, 628, 605, 620, 576, 695, 616, 619, 640, 600, 558, 714, 595, 553, 634, 614, 534
|309, 279, 349, 351, 367, 383, 379, 325, 436, 328, 372, 418, 345, 437, 315, 304, 335, 341, 278, 284, 301, 336, 426, 328, 401, 337, 231, 388, 304, 382, 346, 414, 431, 322, 357, 353, 398, 278, 360, 422, 417, 368
|129, 261, 237, 193, 102, 97, 149, 163, 161, 102, 84, 218, 159, 163, 253, 231, 124, 144, 261, 222, 208, 165, 133, 245, 182, 141, 260, 142, 199, 113, 258, 151, 155, 208, 148, 109, 260, 194, 100, 169, 149, 78
|222, 351, 319, 274, 187, 175, 224, 251, 210, 194, 171, 282, 244, 212, 339, 319, 215, 231, 351, 313, 298, 251, 184, 330, 250, 229, 353, 215, 289, 191, 340, 212, 207, 295, 230, 198, 331, 287, 188, 227, 207, 169
|542, 489, 426, 445, 500, 493, 454, 488, 423, 559, 511, 383, 471, 421, 455, 472, 509, 486, 490, 496, 484, 476, 451, 444, 417, 492, 540, 453, 486, 480, 424, 435, 429, 464, 469, 505, 376, 519, 507, 417, 437, 522
|486, 362, 345, 388, 478, 483, 431, 428, 444, 517, 495, 370, 423, 443, 345, 370, 465, 440, 362, 392, 394, 420, 468, 345, 402, 445, 405, 439, 402, 466, 327, 439, 446, 383, 432, 474, 320, 427, 481, 425, 444, 503
|668, 554, 527, 566, 651, 653, 602, 609, 601, 697, 667, 532, 601, 599, 533, 558, 644, 618, 554, 581, 580, 600, 627, 531, 568, 624, 599, 607, 587, 636, 511, 602, 604, 566, 607, 649, 492, 615, 656, 585, 606, 676
|];

% Define sets I and J
int: I;
int: J;

int: C; % Cost of installing a warehouse in all zones
int: CV; % Capacity in green zone
int: CC; % Capacity in blue zone

array[1..I] of int: O_i; % Emissions per operation for each warehouse i
array[1..I, 1..J] of int: D_ij; % Distance between warehouse i and store j
array[1..I, 1..J] of int: E_ij; % Transportation emissions
array[1..I] of int: V_i; % 1 if warehouse i is in the green zone, 0 if in the blue zone

% Define decision variables
array[1..I, 1..J] of var 0..1: X; % 1 if warehouse i supplies store j, 0 otherwise
array[1..I] of var 0..1: Y;

% Define constraints

% Add the constraint to ensure Y_i is 1 if the warehouse I supplies at least one store
constraint forall(i in 1..I)(
  sum(j in 1..J)(X[i,j]) > 0 -> Y[i] == 1
);

% Emissions constraint
constraint sum(i in 1..I, j in 1..J)(E_ij[i, j] * X[i, j]) + sum(i in 1..I)(O_i[i] * Y[i]) <= 500 * J;

% Assignment constraint
constraint forall(j in 1..J)(sum(i in 1..I)(X[i, j]) == 1);

% Green zone capacity constraint
constraint forall(i in 1..I)(sum(j in 1..J)(X[i, j] * V_i[i]) <= CV);

% Blue zone capacity constraint
constraint forall(i in 1..I)(sum(j in 1..J)(X[i, j] * (1 - V_i[i])) <= CC);

% Solve the optimization problem using a solver
% Define the objective function
solve minimize sum(i in 1..I, j in 1..J)(1.25 * D_ij[i, j] * X[i, j]) + sum(i in 1..I)(C * Y[i]);

output ["Solution:", ""];
output ["X = \n", show2d(X), ";"];
output ["\n"];
output ["Y = ", show(Y), ";"];
output ["\n"];
output ["FO = ", show(sum(i in 1..I, j in 1..J)(1.25 * D_ij[i, j] * X[i, j]) + sum(i in 1..I)(C * Y[i])), "\n"];