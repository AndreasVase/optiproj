I = 36;
J = 39;
C = 3073;
CV = 4;
CC = 14;
O_i = [36, 66, 61, 67, 67, 34, 47, 63, 40, 61, 36, 61, 56, 40, 67, 56, 34, 36, 36, 68, 39, 40, 62, 32, 63, 56, 46, 35, 36, 67, 33, 62, 34, 44, 67, 24];
V_i = [0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 0, 1, 1, 0, 1, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1];
D_ij = 
[|171, 301, 199, 294, 242, 242, 277, 201, 263, 213, 201, 230, 238, 185, 255, 247, 253, 297, 222, 162, 234, 249, 213, 297, 232, 162, 184, 188, 221, 277, 292, 147, 221, 214, 187, 304, 255, 305, 230
|119, 120, 42, 131, 136, 128, 110, 44, 69, 55, 123, 21, 82, 114, 59, 50, 69, 109, 101, 116, 45, 47, 75, 118, 18, 97, 112, 62, 92, 81, 130, 114, 36, 131, 67, 115, 64, 129, 37
|150, 285, 188, 276, 220, 221, 260, 190, 250, 200, 180, 221, 222, 165, 242, 235, 239, 281, 203, 142, 222, 238, 197, 280, 223, 145, 164, 175, 203, 263, 273, 128, 210, 192, 173, 289, 242, 287, 219
|158, 129, 81, 145, 166, 157, 127, 82, 82, 89, 158, 50, 109, 151, 75, 70, 88, 116, 132, 154, 71, 63, 109, 129, 45, 137, 150, 101, 124, 89, 146, 153, 68, 165, 105, 121, 81, 139, 66
|56, 164, 63, 160, 120, 117, 142, 65, 125, 75, 83, 97, 101, 65, 117, 110, 115, 159, 91, 46, 97, 113, 76, 160, 100, 33, 63, 51, 87, 139, 158, 32, 84, 97, 49, 167, 117, 169, 94
|66, 202, 137, 187, 124, 127, 176, 137, 182, 137, 88, 172, 145, 79, 177, 173, 170, 203, 119, 65, 162, 178, 125, 197, 176, 81, 80, 118, 123, 193, 185, 64, 155, 96, 114, 209, 175, 202, 162
|343, 262, 267, 286, 334, 325, 276, 268, 241, 271, 338, 234, 279, 335, 241, 240, 253, 250, 308, 341, 248, 234, 289, 265, 229, 324, 334, 287, 300, 238, 288, 341, 252, 342, 292, 250, 245, 271, 246
|119, 249, 192, 232, 165, 171, 224, 192, 234, 191, 136, 227, 196, 131, 230, 227, 222, 251, 168, 119, 216, 232, 177, 244, 231, 136, 132, 172, 173, 244, 229, 119, 209, 140, 168, 257, 227, 248, 216
|332, 319, 383, 298, 281, 289, 314, 379, 358, 363, 309, 396, 334, 325, 364, 370, 352, 332, 318, 343, 372, 376, 344, 317, 400, 357, 327, 369, 326, 354, 297, 358, 380, 296, 366, 330, 359, 309, 379
|183, 227, 128, 237, 228, 222, 216, 132, 176, 150, 201, 128, 182, 186, 167, 158, 175, 216, 192, 174, 150, 154, 166, 225, 125, 156, 184, 140, 184, 188, 236, 162, 137, 214, 143, 223, 171, 236, 142
|192, 330, 246, 317, 254, 257, 304, 247, 303, 254, 217, 281, 269, 206, 296, 290, 291, 329, 246, 186, 278, 294, 246, 325, 284, 196, 206, 230, 249, 315, 314, 177, 267, 226, 227, 336, 295, 331, 276
|119, 195, 191, 173, 111, 120, 173, 188, 202, 178, 109, 217, 164, 119, 203, 204, 191, 203, 136, 127, 198, 210, 158, 191, 223, 146, 121, 171, 145, 207, 170, 139, 199, 102, 167, 206, 198, 190, 202
|88, 205, 165, 187, 119, 125, 180, 164, 197, 159, 96, 197, 157, 96, 194, 192, 184, 209, 129, 92, 183, 198, 143, 200, 202, 111, 97, 145, 135, 205, 184, 98, 179, 97, 140, 214, 190, 203, 185
|291, 153, 254, 167, 234, 229, 179, 251, 189, 238, 266, 230, 215, 277, 198, 206, 198, 155, 237, 297, 219, 205, 240, 158, 229, 291, 277, 263, 235, 175, 170, 309, 233, 260, 264, 148, 197, 152, 224
|322, 307, 372, 285, 270, 277, 302, 368, 346, 351, 298, 384, 322, 315, 352, 358, 340, 320, 307, 332, 360, 364, 333, 305, 389, 347, 317, 358, 315, 341, 284, 348, 369, 285, 355, 318, 347, 297, 367
|227, 341, 230, 339, 298, 296, 320, 234, 296, 250, 257, 254, 279, 240, 286, 278, 288, 334, 271, 217, 265, 278, 255, 337, 254, 211, 239, 226, 267, 310, 337, 200, 250, 271, 227, 342, 288, 346, 259
|201, 198, 251, 175, 149, 157, 188, 247, 231, 231, 177, 265, 203, 193, 236, 241, 223, 210, 186, 212, 241, 248, 212, 195, 270, 226, 195, 237, 194, 228, 173, 228, 249, 163, 233, 210, 230, 189, 248
|214, 97, 156, 121, 180, 172, 117, 154, 99, 147, 198, 125, 137, 202, 105, 110, 111, 88, 165, 217, 123, 106, 156, 101, 123, 205, 201, 170, 159, 89, 123, 224, 134, 197, 173, 86, 106, 104, 125
|370, 380, 430, 358, 330, 338, 371, 427, 414, 412, 351, 447, 386, 366, 420, 425, 407, 393, 366, 380, 424, 431, 392, 378, 452, 397, 368, 414, 375, 412, 356, 394, 431, 339, 410, 392, 414, 371, 430
|235, 112, 178, 135, 197, 189, 134, 176, 120, 168, 217, 147, 157, 222, 126, 132, 132, 104, 184, 238, 145, 128, 177, 116, 145, 226, 221, 192, 179, 108, 137, 245, 156, 215, 195, 101, 127, 118, 147
|185, 319, 220, 311, 256, 256, 295, 222, 283, 233, 215, 251, 256, 200, 275, 268, 273, 315, 238, 177, 254, 270, 231, 314, 254, 180, 199, 208, 238, 297, 308, 163, 242, 227, 206, 323, 275, 322, 251
|328, 297, 253, 317, 345, 336, 301, 255, 258, 266, 334, 228, 288, 325, 252, 248, 265, 284, 311, 323, 250, 241, 286, 298, 222, 304, 323, 273, 302, 261, 318, 317, 246, 343, 277, 286, 258, 307, 244
|232, 124, 232, 117, 161, 160, 138, 228, 176, 210, 201, 224, 177, 217, 185, 194, 177, 136, 183, 241, 203, 197, 200, 126, 226, 243, 218, 230, 186, 164, 119, 256, 217, 189, 229, 130, 181, 116, 210
|167, 299, 199, 292, 238, 238, 275, 201, 262, 212, 197, 230, 236, 182, 254, 247, 252, 295, 219, 159, 234, 249, 211, 295, 233, 160, 181, 188, 218, 276, 289, 144, 221, 209, 186, 303, 254, 302, 230
|179, 196, 110, 209, 212, 204, 189, 114, 145, 130, 191, 100, 160, 179, 137, 128, 147, 184, 175, 172, 123, 124, 149, 195, 96, 153, 177, 127, 167, 156, 208, 163, 113, 202, 131, 190, 142, 205, 116
|314, 257, 345, 240, 248, 253, 260, 341, 304, 323, 285, 348, 290, 303, 312, 320, 301, 270, 283, 324, 325, 325, 307, 257, 352, 335, 305, 336, 290, 296, 240, 341, 336, 271, 333, 266, 307, 247, 332
|134, 267, 204, 250, 184, 189, 241, 204, 249, 205, 153, 239, 212, 146, 245, 241, 237, 268, 185, 132, 229, 246, 192, 262, 243, 148, 147, 185, 189, 260, 247, 130, 222, 158, 181, 275, 242, 266, 229
|261, 243, 187, 262, 282, 273, 244, 189, 199, 202, 268, 164, 225, 258, 193, 187, 205, 230, 247, 255, 187, 181, 222, 244, 159, 236, 256, 206, 238, 205, 262, 248, 181, 278, 210, 234, 199, 253, 181
|90, 189, 166, 168, 102, 109, 165, 164, 187, 156, 88, 195, 148, 93, 186, 186, 175, 194, 119, 97, 178, 192, 137, 184, 200, 116, 95, 146, 126, 194, 166, 107, 176, 85, 141, 199, 182, 186, 181
|267, 286, 328, 262, 229, 237, 274, 324, 316, 310, 248, 346, 285, 263, 320, 324, 307, 298, 264, 277, 323, 331, 290, 283, 351, 293, 265, 311, 273, 314, 260, 291, 329, 236, 307, 297, 314, 277, 329
|249, 141, 183, 165, 222, 213, 160, 182, 135, 178, 236, 148, 174, 237, 138, 141, 147, 131, 203, 250, 153, 136, 190, 145, 145, 236, 236, 200, 196, 127, 168, 255, 162, 236, 203, 129, 141, 149, 154
|140, 197, 208, 173, 118, 127, 177, 205, 211, 193, 126, 232, 174, 138, 213, 215, 200, 206, 149, 149, 210, 222, 173, 193, 237, 167, 140, 189, 157, 214, 171, 163, 213, 116, 185, 208, 208, 191, 215
|209, 166, 242, 145, 144, 149, 163, 238, 208, 220, 180, 249, 189, 198, 215, 222, 203, 179, 179, 220, 225, 227, 204, 165, 253, 230, 200, 232, 186, 202, 145, 236, 236, 166, 229, 177, 209, 156, 232
|64, 152, 45, 150, 119, 114, 131, 47, 109, 61, 85, 77, 90, 69, 101, 93, 100, 146, 85, 55, 80, 95, 66, 148, 80, 37, 67, 37, 80, 124, 148, 45, 67, 98, 37, 153, 102, 157, 76
|185, 158, 224, 136, 123, 129, 151, 220, 195, 203, 157, 234, 172, 175, 202, 208, 189, 171, 160, 196, 210, 214, 185, 156, 238, 207, 177, 212, 167, 191, 135, 213, 219, 143, 209, 170, 196, 149, 217
|165, 303, 215, 291, 230, 233, 277, 216, 273, 224, 192, 249, 241, 179, 266, 260, 262, 301, 219, 158, 247, 264, 217, 298, 252, 166, 179, 199, 221, 286, 288, 148, 236, 202, 197, 308, 265, 304, 245
|];
E_ij = 
[|293, 488, 335, 478, 399, 400, 452, 338, 431, 356, 338, 381, 393, 314, 418, 407, 416, 482, 369, 279, 387, 410, 355, 481, 384, 280, 313, 319, 368, 452, 474, 257, 367, 357, 317, 493, 419, 493, 381
|245, 246, 129, 262, 271, 259, 232, 132, 169, 149, 250, 98, 189, 238, 155, 142, 169, 229, 217, 240, 133, 136, 179, 243, 93, 212, 235, 160, 204, 187, 261, 237, 120, 263, 167, 239, 162, 259, 122
|287, 488, 343, 475, 392, 393, 452, 346, 436, 361, 331, 392, 394, 309, 424, 414, 420, 483, 366, 274, 394, 418, 356, 481, 396, 279, 308, 324, 366, 456, 471, 254, 376, 349, 321, 494, 424, 492, 389
|304, 261, 188, 285, 316, 303, 258, 190, 190, 201, 304, 142, 230, 294, 180, 172, 199, 241, 266, 299, 174, 162, 231, 260, 134, 272, 292, 219, 253, 201, 286, 297, 170, 315, 225, 249, 189, 275, 166
|152, 314, 162, 307, 248, 243, 280, 164, 255, 180, 191, 212, 219, 165, 243, 232, 240, 306, 203, 136, 212, 236, 181, 307, 217, 116, 162, 143, 198, 276, 304, 115, 194, 212, 141, 317, 243, 320, 208
|134, 337, 240, 315, 220, 225, 299, 240, 307, 240, 166, 292, 252, 153, 300, 294, 289, 338, 213, 132, 277, 302, 221, 330, 299, 155, 154, 211, 218, 324, 311, 130, 267, 178, 205, 348, 296, 337, 277
|562, 440, 448, 476, 548, 535, 462, 449, 409, 454, 554, 398, 466, 550, 408, 408, 426, 423, 509, 559, 420, 398, 481, 445, 390, 533, 548, 478, 497, 404, 479, 559, 425, 561, 485, 422, 415, 453, 416
|242, 437, 352, 411, 311, 319, 399, 351, 414, 350, 267, 403, 357, 259, 408, 403, 396, 440, 316, 242, 387, 411, 329, 429, 410, 267, 261, 322, 323, 429, 407, 241, 377, 273, 316, 449, 404, 435, 388
|539, 519, 615, 487, 462, 473, 511, 609, 577, 585, 504, 634, 541, 528, 587, 596, 568, 538, 518, 554, 598, 605, 556, 516, 641, 576, 531, 594, 530, 571, 485, 578, 611, 484, 589, 535, 578, 504, 608
|335, 402, 253, 416, 404, 394, 386, 259, 325, 286, 363, 253, 335, 340, 311, 298, 324, 386, 349, 322, 286, 293, 311, 399, 249, 295, 337, 271, 337, 344, 415, 304, 266, 382, 276, 396, 318, 415, 275
|324, 531, 406, 512, 418, 422, 493, 407, 490, 417, 362, 457, 440, 346, 481, 472, 473, 530, 406, 316, 453, 478, 406, 524, 462, 330, 346, 382, 409, 509, 508, 302, 437, 375, 377, 540, 479, 533, 450
|240, 354, 347, 320, 228, 241, 321, 344, 365, 328, 225, 387, 307, 240, 365, 367, 348, 365, 266, 252, 358, 377, 299, 347, 395, 280, 243, 318, 278, 372, 316, 270, 360, 215, 312, 371, 358, 347, 364
|188, 364, 304, 336, 235, 244, 327, 302, 351, 295, 200, 352, 292, 200, 347, 345, 332, 370, 249, 194, 330, 353, 270, 357, 360, 223, 202, 273, 259, 364, 332, 204, 325, 201, 267, 378, 342, 361, 333
|477, 270, 422, 291, 391, 383, 308, 417, 324, 397, 440, 385, 363, 456, 337, 349, 338, 273, 395, 486, 369, 348, 400, 277, 384, 477, 456, 435, 393, 302, 296, 504, 390, 430, 437, 262, 336, 269, 377
|550, 527, 625, 495, 472, 483, 520, 619, 586, 594, 515, 643, 551, 539, 596, 605, 577, 547, 528, 566, 607, 614, 566, 525, 650, 588, 542, 604, 540, 579, 494, 589, 620, 495, 599, 544, 587, 513, 617
|397, 568, 402, 565, 503, 500, 537, 407, 500, 431, 442, 437, 475, 416, 486, 473, 489, 557, 462, 381, 454, 473, 439, 562, 438, 373, 414, 396, 457, 521, 562, 357, 432, 463, 396, 569, 489, 576, 445
|336, 331, 411, 296, 258, 270, 316, 405, 381, 381, 299, 432, 339, 324, 388, 396, 369, 349, 314, 352, 396, 406, 352, 327, 440, 373, 327, 389, 326, 377, 294, 376, 408, 279, 384, 349, 380, 318, 406
|358, 182, 270, 218, 307, 295, 212, 268, 185, 256, 333, 223, 242, 339, 193, 201, 203, 169, 284, 362, 221, 196, 271, 188, 220, 344, 338, 292, 275, 169, 221, 372, 238, 332, 296, 165, 196, 193, 224
|592, 607, 682, 573, 531, 544, 593, 677, 658, 654, 563, 707, 615, 585, 666, 673, 646, 626, 586, 606, 672, 683, 624, 603, 715, 631, 588, 658, 599, 654, 571, 627, 682, 545, 652, 624, 657, 593, 682
|420, 236, 335, 271, 364, 352, 269, 332, 248, 320, 394, 288, 303, 401, 257, 266, 266, 225, 345, 425, 285, 261, 334, 242, 286, 408, 400, 356, 337, 231, 274, 436, 303, 391, 360, 219, 259, 245, 289
|317, 518, 369, 505, 423, 424, 481, 372, 464, 389, 362, 416, 423, 340, 451, 441, 448, 512, 396, 305, 421, 444, 385, 511, 420, 309, 338, 351, 396, 484, 501, 284, 402, 380, 349, 523, 452, 522, 415
|533, 485, 419, 516, 557, 544, 492, 423, 427, 440, 542, 382, 472, 528, 419, 412, 438, 466, 506, 524, 415, 402, 470, 487, 374, 496, 525, 449, 493, 432, 518, 515, 409, 555, 456, 470, 428, 500, 407
|410, 249, 410, 238, 303, 303, 269, 404, 326, 377, 364, 398, 327, 388, 340, 353, 328, 266, 337, 423, 366, 358, 362, 251, 402, 427, 390, 407, 342, 308, 240, 447, 387, 346, 405, 257, 333, 236, 377
|283, 481, 331, 470, 389, 390, 445, 334, 426, 351, 328, 378, 386, 305, 413, 403, 411, 475, 361, 270, 383, 406, 348, 474, 381, 272, 304, 314, 360, 447, 466, 248, 363, 346, 311, 486, 414, 486, 377
|331, 357, 229, 376, 381, 370, 346, 234, 281, 258, 350, 213, 303, 331, 268, 256, 284, 339, 326, 321, 248, 249, 287, 355, 207, 292, 328, 254, 313, 297, 376, 308, 232, 366, 260, 348, 276, 371, 237
|527, 442, 573, 417, 429, 436, 446, 568, 512, 540, 484, 579, 491, 510, 524, 536, 508, 461, 481, 543, 543, 543, 517, 441, 585, 558, 513, 560, 491, 500, 417, 568, 561, 463, 556, 455, 516, 427, 554
|247, 446, 352, 422, 322, 330, 408, 352, 420, 354, 275, 404, 364, 266, 413, 407, 401, 449, 324, 245, 390, 415, 334, 439, 411, 268, 267, 323, 330, 436, 417, 241, 379, 283, 317, 458, 409, 445, 390
|426, 400, 315, 428, 458, 445, 401, 319, 334, 338, 438, 281, 373, 423, 324, 316, 343, 380, 405, 418, 316, 307, 368, 401, 274, 389, 420, 344, 392, 343, 428, 408, 307, 452, 351, 386, 333, 415, 307
|171, 320, 285, 289, 189, 200, 284, 282, 317, 270, 168, 329, 258, 176, 315, 315, 299, 328, 215, 182, 303, 324, 242, 312, 337, 210, 179, 255, 226, 327, 285, 197, 301, 163, 248, 335, 309, 315, 307
|468, 496, 559, 460, 410, 423, 478, 554, 541, 532, 439, 587, 495, 461, 547, 554, 528, 514, 464, 482, 552, 564, 502, 491, 594, 507, 464, 534, 477, 539, 458, 504, 561, 422, 528, 513, 539, 482, 561
|406, 245, 307, 281, 366, 353, 273, 306, 235, 300, 387, 256, 294, 389, 240, 245, 254, 230, 337, 408, 263, 238, 319, 251, 251, 387, 388, 333, 328, 223, 285, 415, 276, 388, 338, 227, 245, 257, 264
|273, 358, 374, 322, 240, 253, 328, 369, 379, 351, 251, 410, 324, 269, 381, 385, 363, 371, 285, 286, 378, 395, 321, 351, 417, 312, 272, 346, 298, 383, 318, 306, 382, 236, 340, 375, 374, 348, 385
|348, 283, 398, 252, 250, 258, 278, 392, 346, 365, 305, 408, 317, 331, 357, 367, 339, 303, 303, 364, 372, 375, 340, 281, 414, 379, 334, 382, 314, 337, 251, 389, 388, 283, 378, 299, 348, 268, 383
|140, 272, 111, 270, 222, 215, 241, 115, 208, 135, 172, 160, 180, 147, 195, 184, 195, 263, 172, 127, 164, 187, 143, 266, 165, 100, 144, 100, 165, 230, 267, 112, 144, 192, 100, 274, 197, 280, 158
|345, 304, 403, 271, 252, 261, 294, 397, 360, 371, 303, 418, 326, 330, 370, 379, 351, 324, 307, 361, 382, 388, 345, 301, 425, 378, 332, 385, 318, 354, 269, 386, 396, 282, 381, 322, 361, 290, 392
|271, 478, 346, 461, 370, 374, 440, 349, 434, 360, 312, 397, 386, 293, 423, 414, 417, 476, 353, 262, 395, 420, 350, 471, 402, 273, 293, 323, 355, 453, 457, 246, 378, 327, 320, 486, 422, 481, 391
|];

% Define sets I and J
int: I;
int: J;

int: C; % Cost of installing a warehouse in all zones
int: CV; % Capacity in green zone
int: CC; % Capacity in blue zone

array[1..I] of int: O_i; % Emissions per operation for each warehouse i
array[1..I, 1..J] of int: D_ij; % Distance between warehouse i and store j
array[1..I, 1..J] of int: E_ij; % Transportation emissions
array[1..I] of int: V_i; % 1 if warehouse i is in the green zone, 0 if in the blue zone

% Define decision variables
array[1..I, 1..J] of var 0..1: X; % 1 if warehouse i supplies store j, 0 otherwise
array[1..I] of var 0..1: Y;

% Define constraints

% Add the constraint to ensure Y_i is 1 if the warehouse I supplies at least one store
constraint forall(i in 1..I)(
  sum(j in 1..J)(X[i,j]) > 0 -> Y[i] == 1
);

% Emissions constraint
constraint sum(i in 1..I, j in 1..J)(E_ij[i, j] * X[i, j]) + sum(i in 1..I)(O_i[i] * Y[i]) <= 500 * J;

% Assignment constraint
constraint forall(j in 1..J)(sum(i in 1..I)(X[i, j]) == 1);

% Green zone capacity constraint
constraint forall(i in 1..I)(sum(j in 1..J)(X[i, j] * V_i[i]) <= CV);

% Blue zone capacity constraint
constraint forall(i in 1..I)(sum(j in 1..J)(X[i, j] * (1 - V_i[i])) <= CC);

% Solve the optimization problem using a solver
% Define the objective function
solve minimize sum(i in 1..I, j in 1..J)(1.25 * D_ij[i, j] * X[i, j]) + sum(i in 1..I)(C * Y[i]);

output ["Solution:", ""];
output ["X = \n", show2d(X), ";"];
output ["\n"];
output ["Y = ", show(Y), ";"];
output ["\n"];
output ["FO = ", show(sum(i in 1..I, j in 1..J)(1.25 * D_ij[i, j] * X[i, j]) + sum(i in 1..I)(C * Y[i])), "\n"];